#!/usr/bin/php
<?php
class check_left_recursive{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("leftmost"=>array(),);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'first':list($_,$_0)=$node;$ret=$this->_0($_0);break;case'all':list($_,$_0)=$node;$ret=$this->_1($_0);break;case'action':list($_,$_0,$_1)=$node;$ret=$this->_2($_0,$_1);break;case'optional':case'zero_or_more':case'one_or_more':case'quarantine':case'empty_environment':list($_,$_0)=$node;$ret=$this->_3($_0);break;case'environment':list($_,$_0,$_1)=$node;$ret=$this->_4($_0,$_1);break;case'bind':list($_,$_0,$_1)=$node;$ret=$this->_5($_0,$_1);break;case'apply':list($_,$_0)=$node;$ret=$this->_6($_0);break;default:$ret=$this->_7();break;}array_pop($this->_stack);return$ret;}public function __invoke($provided,$definitions){extract($this->_env,EXTR_REFS);$self->leftmost=$this->_walkeach($definitions);$left_recursive=array();foreach($self->leftmost as$name=>$leftmost){$leftmost=array_unique($leftmost);$chains=array();foreach($leftmost as$l){$chains[]=array($l);}$newchains=array();do{$done=TRUE;foreach($chains as$chain){if(!isset($self->leftmost[end($chain)])){continue;}foreach($self->leftmost[end($chain)]as$l){if(in_array($l,$chain)){if($l===$chain[0]){$left_recursive[]=array_merge($chain,array($l));}}else{$newchains[]=array_merge($chain,array($l));$done=FALSE;}}}$chains=$newchains;$newchains=array();}while(!$done);}$left_recursive=array_unique($left_recursive);if(!empty($left_recursive)){$index_to_name=array();foreach($provided as$file=>$about){foreach($about->reindex as$name=>$k){$index_to_name[$k]=$name."(".$file.")";}}foreach($left_recursive as$i=>$l){$left_recursive[$i]=$index_to_name[array_shift($l)];foreach($l as$k){$left_recursive[$i].=" -> ".$index_to_name[$k];}}die("Left recursive rules:\n"."  ".implode("\n  ",$left_recursive)."\n");}return TRUE;}protected function _0($nodes){extract($this->_env,EXTR_REFS);return call_user_func_array("array_merge",$this->_walkeach($nodes));}protected function _1($nodes){extract($this->_env,EXTR_REFS);return$this->_walk($nodes[0]);}protected function _2($node,$code){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _3($node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _4($i,$node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _5($varname,$node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _6($name){extract($this->_env,EXTR_REFS);return array($name);}protected function _7(){extract($this->_env,EXTR_REFS);return array();}}class check_macros_recursive{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("current"=>NULL,"recursion"=>array(),);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'macro':list($_,$_0,$_1,$_2)=$node;$ret=$this->_0($_0,$_1,$_2);break;case'all':case'first':list($_,$_0)=$node;$ret=$this->_1($_0);break;case'action':list($_,$_0,$_1)=$node;$ret=$this->_2($_0,$_1);break;case'and':case'not':case'optional':case'zero_or_more':case'one_or_more':list($_,$_0)=$node;$ret=$this->_3($_0);break;case'bind':list($_,$_0,$_1)=$node;$ret=$this->_4($_0,$_1);break;case'expand':list($_,$_0,$_1)=$node;$ret=$this->_5($_0,$_1);break;default:$ret=$this->_6();break;}array_pop($this->_stack);return$ret;}public function __invoke($file,$macros){extract($this->_env,EXTR_REFS);$this->_walkeach($macros);$recursive=array();foreach($self->recursion as$name=>$recursion){$chains=array();foreach($recursion as$r){$chains[]=array($r);}$newchains=array();do{$done=TRUE;foreach($chains as$chain){if(!isset($self->recursion[end($chain)])){continue;}foreach($self->recursion[end($chain)]as$r){if(in_array($r,$chain)){if($r===$chain[0]){$recursive[]=array_merge($chain,array($r));}}else{$newchains[]=array_merge($chain,array($r));$done=FALSE;}}}$chains=$newchains;$newchains=array();}while(!$done);}if(!empty($recursive)){foreach($recursive as$i=>$r){$recursive[$i]=implode(" -> ",$r);}die("Recursive macros in file {$file}:\n"."  ".implode("\n  ",$recursive)."\n");}return TRUE;}protected function _0($name,$arguments,$node){extract($this->_env,EXTR_REFS);$self->current=$name;$self->recursion[$self->current]=array();$this->_walk($node);$self->recursion[$self->current]=array_flip(array_flip($self->recursion[$self->current]));}protected function _1($nodes){extract($this->_env,EXTR_REFS);return$this->_walkeach($nodes);}protected function _2($node,$code){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _3($node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _4($varname,$node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _5($name,$arguments){extract($this->_env,EXTR_REFS);$self->recursion[$self->current][]=implode('.',(array)$name);$this->_walkeach($arguments);}protected function _6(){extract($this->_env,EXTR_REFS);return NULL;}}class compile_machine{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("codes"=>array(),"environment"=>-255,);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'first':list($_,$_0)=$node;$ret=$this->_0($_0);break;case'all':list($_,$_0)=$node;$ret=$this->_1($_0);break;case'action':list($_,$_0,$_1)=$node;$ret=$this->_2($_0,$_1);break;case'bind':list($_,$_0,$_1)=$node;$ret=$this->_3($_0,$_1);break;case'quarantine':list($_,$_0)=$node;$ret=$this->_4($_0);break;case'environment':list($_,$_0,$_1)=$node;$ret=$this->_5($_0,$_1);break;case'empty_environment':list($_,$_0)=$node;$ret=$this->_6($_0);break;case'and':case'not':list($_,$_0)=$node;$ret=$this->_7($_0);break;case'optional':list($_,$_0)=$node;$ret=$this->_8($_0);break;case'zero_or_more':list($_,$_0)=$node;$ret=$this->_9($_0);break;case'one_or_more':list($_,$_0)=$node;$ret=$this->_10($_0);break;case'apply':list($_,$_0)=$node;$ret=$this->_11($_0);break;case'literal':list($_,$_0)=$node;$ret=$this->_12($_0);break;case'range':list($_,$_0)=$node;$ret=$this->_13($_0);break;case'any':$ret=$this->_14();break;case'semantic_predicate':list($_,$_0)=$node;$ret=$this->_15($_0);break;case'position':$ret=$this->_16();break;default:$ret=$this->_17();break;}array_pop($this->_stack);return$ret;}public function __invoke($node){extract($this->_env,EXTR_REFS);$ret=$this->_walk($node);return array($ret,$self->codes);}protected function _0($nodes){extract($this->_env,EXTR_REFS);foreach($nodes as$k=>$node){$nodes[$k]=$this->_walk($node);}$ret=array_pop($nodes);while($node=array_pop($nodes)){$ret=array_merge($node,array(array("jumpif",array("not",array("register","fail")),array("offset",count($ret)+2)),array("set",array("top",array("register","stack"),array("value",0)),array("register","p")),),$ret);}$ret=array_merge(array(array("push",array("register","p"),array("register","stack")),),$ret,array(array("pop",array("register","stack"),NULL),));return$ret;}protected function _1($nodes){extract($this->_env,EXTR_REFS);$is_simple=c(new is_simple,array($this->_nodetype(),$nodes));$ret=array();$first=TRUE;$push=FALSE;foreach($nodes as$k=>$node){if($first){$type=$node[0];if($type==="bind"){$type=$node[2][0];}if(!in_array($type,array("and","not","semantic_predicate"))){$first=FALSE;$push=TRUE;}}$nodes[$k]=$this->_walk($node);if($is_simple){$nodes[$k][]=array("append",array("register","value"),array("top",array("register","stack"),array("value",0)));}else if($push){$push=FALSE;$nodes[$k][]=array("set",array("register","value"),array("top",array("register","stack"),array("value",0)));}}$ret=array_merge($ret,array_pop($nodes));while($node=array_pop($nodes)){$ret=array_merge($node,array(array("jumpif",array("register","fail"),array("offset",count($ret)+1)),),$ret);}$ret=array_merge(array(array("push",array("value",$is_simple?"":NULL),array("register","stack"))),$ret);$ret[]=array("pop",array("register","stack"),array("register","value"));return$ret;}protected function _2($node,$code){extract($this->_env,EXTR_REFS);$n=count($self->codes);$self->codes[$n]=$code;return array_merge(array(array("refarray",array("register","env"),array("register","b")),array("push",array("register","b"),array("register","stack")),),$this->_walk($node),array(array("jumpif",array("register","fail"),array("offset",2)),array("run",$n,array("register","env")),array("pop",array("register","stack"),array("register","env")),));}protected function _3($varname,$node){extract($this->_env,EXTR_REFS);return array_merge($this->_walk($node),array(array("set",array("register","value"),array("register_index","env",$varname)),));}protected function _4($node){extract($this->_env,EXTR_REFS);return array_merge(array(array("push",array("register","env"),array("register","stack")),array("set",array("value",array()),array("register","env")),),$this->_walk($node),array(array("pop",array("register","stack"),array("register","env")),));}protected function _5($i,$node){extract($this->_env,EXTR_REFS);if($self->environment===$i){return$this->_walk($node);}$saved_environment=$self->environment;$self->environment=$i;$ret=array_merge(array(array("pushenv",$i),),$this->_walk($node),array(array("popenv"),));$self->environment=$saved_environment;return$ret;}protected function _6($node){extract($this->_env,EXTR_REFS);if($self->environment===-1){return$this->_walk($node);}$saved_environment=$self->environment;$self->environment=-1;$ret=array_merge(array(array("pushenv",-1),),$this->_walk($node),array(array("popenv"),));$self->environment=$saved_environment;return$ret;}protected function _7($node){extract($this->_env,EXTR_REFS);return array_merge(array(array("push",array("register","p"),array("register","stack")),),$this->_walk($node),array(array("pop",array("register","stack"),array("register","p")),array("set",array("value",NULL),array("register","value")),),($this->_nodetype()==="not"?array(array("set",array("not",array("register","fail")),array("register","fail")),):array()));}protected function _8($node){extract($this->_env,EXTR_REFS);return array_merge(array(array("push",array("register","p"),array("register","stack")),),$this->_walk($node),array(array("pop",array("register","stack"),array("register","a")),array("jumpif",array("not",array("register","fail")),array("offset",4)),array("set",array("value",FALSE),array("register","fail")),array("set",array("value",NULL),array("register","value")),array("set",array("register","a"),array("register","p")),));}protected function _9($node){extract($this->_env,EXTR_REFS);$is_simple=c(new is_simple,$node);$ret=$this->_walk($node);return array_merge(array(array("push",array("register","p"),array("register","stack")),array("push",array("value",$is_simple?"":array()),array("register","stack")),),$ret,array(array("jumpif",array("register","fail"),array("offset",4)),array($is_simple?"append":"arrayappend",array("register","value"),array("top",array("register","stack"),array("value",0))),array("set",array("register","p"),array("top",array("register","stack"),array("value",1))),array("jump",array("offset",-(3+count($ret)))),array("pop",array("register","stack"),array("register","value")),array("pop",array("register","stack"),array("register","p")),array("set",array("value",FALSE),array("register","fail")),));}protected function _10($node){extract($this->_env,EXTR_REFS);$is_simple=c(new is_simple,$node);$ret=$this->_walk($node);return array_merge(array(array("push",array("register","p"),array("register","stack")),array("push",array("value",$is_simple?"":array()),array("register","stack")),array("push",array("value",TRUE),array("register","stack")),),$ret,array(array("jumpif",array("register","fail"),array("offset",5)),array("set",array("value",FALSE),array("top",array("register","stack"),array("value",0))),array($is_simple?"append":"arrayappend",array("register","value"),array("top",array("register","stack"),array("value",1))),array("set",array("register","p"),array("top",array("register","stack"),array("value",2))),array("jump",array("offset",-(4+count($ret)))),array("pop",array("register","stack"),array("register","a")),array("pop",array("register","stack"),array("register","value")),array("pop",array("register","stack"),array("register","p")),array("jumpif",array("register","a"),array("offset",2)),array("set",array("value",FALSE),array("register","fail")),));}protected function _11($name){extract($this->_env,EXTR_REFS);return array(array("push",array("offset",2),array("register","stack")),array("jump",array("label",$name)),);}protected function _12($s){extract($this->_env,EXTR_REFS);return array(array("literal",$s),);}protected function _13($match){extract($this->_env,EXTR_REFS);return array(array("range",$match),);}protected function _14(){extract($this->_env,EXTR_REFS);return array(array("any"),);}protected function _15($code){extract($this->_env,EXTR_REFS);$n=count($self->codes);$self->codes[$n]=$code;return array(array("refarray",array("register","env"),array("register","env")),array("run",$n,array("register","env")),array("set",array("not",array("register","value")),array("register","fail")),array("set",array("value",NULL),array("register","value")),);}protected function _16(){extract($this->_env,EXTR_REFS);return array(array("position"),);}protected function _17(){extract($this->_env,EXTR_REFS);var_dump($this->_node());die("Unexpected node.\n");}}class expand_macros{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("macros"=>array(),"replaces"=>array(),"environments"=>array(),);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'rule':list($_,$_0,$_1)=$node;$ret=$this->_0($_0,$_1);break;case'environment_':list($_,$_0,$_1)=$node;$ret=$this->_1($_0,$_1);break;case'all':case'first':list($_,$_0)=$node;$ret=$this->_2($_0);break;case'action':list($_,$_0,$_1)=$node;$ret=$this->_3($_0,$_1);break;case'and':case'not':case'optional':case'zero_or_more':case'one_or_more':case'quarantine':list($_,$_0)=$node;$ret=$this->_4($_0);break;case'bind':list($_,$_0,$_1)=$node;$ret=$this->_5($_0,$_1);break;case'apply':list($_,$_0)=$node;$ret=$this->_6($_0);break;case'expand':list($_,$_0,$_1)=$node;$ret=$this->_7($_0,$_1);break;default:$ret=$this->_8();break;}array_pop($this->_stack);return$ret;}public function __invoke($provided,$definitions){extract($this->_env,EXTR_REFS);foreach($provided as$file=>$about){if(!$about->init){continue;}foreach($about->reindex as$k=>$r){$self->environments[$r]=$file;}}$self->macros=c(new select_nodes,array("macro"),$definitions);return$this->_walkeach(c(new select_nodes,array("rule"),$definitions));}protected function _0($name,$node){extract($this->_env,EXTR_REFS);return$this->_walk(array("environment_",$this->_index(),$node));}protected function _1($index,$node){extract($this->_env,EXTR_REFS);if(isset($self->environments[$index])){return array("environment",$self->environments[$index],$this->_walk($node));}else{return array("empty_environment",$this->_walk($node));}}protected function _2($nodes){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walkeach($nodes));}protected function _3($node,$code){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk($node),$code);}protected function _4($node){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk($node));}protected function _5($varname,$node){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$varname,$this->_walk($node));}protected function _6($name){extract($this->_env,EXTR_REFS);if(($replaces=end($self->replaces))&&isset($replaces[$name])){return$replaces[$name];}else{return array($this->_nodetype(),$name);}}protected function _7($name,$arguments){extract($this->_env,EXTR_REFS);$parameters=$self->macros[$name][2];if(count($arguments)!==count($parameters)){die("Incorrect number of arguments for macro {$self->macros[$name][1]}.\n");}$realarguments=array();foreach($arguments as$argument){$realarguments[]=array("quarantine",$this->_walk(array("environment_",$this->_index(),$argument)));}if(empty($parameters)){$self->replaces[]=array();}else{$self->replaces[]=array_combine($parameters,$realarguments);}$ret=$this->_walk($self->macros[$name][3]);array_pop($self->replaces);return array("quarantine",$this->_walk(array("environment_",$name,$ret)));}protected function _8(){extract($this->_env,EXTR_REFS);return$this->_node();}}class generate_common{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("inits"=>array(),"generator"=>NULL,);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'toplevel_':list($_,$_0)=$node;$ret=$this->_0($_0);break;case'namespace_':list($_,$_0,$_1)=$node;$ret=$this->_1($_0,$_1);break;case'class_':list($_,$_0,$_1)=$node;$ret=$this->_2($_0,$_1);break;case'constructor_':$ret=$this->_3();break;case'extract_environment_':$ret=$this->_4();break;case'push_environment_':list($_,$_0)=$node;$ret=$this->_5($_0);break;case'pop_environment_':$ret=$this->_6();break;case'init_':list($_,$_0,$_1)=$node;$ret=$this->_7($_0,$_1);break;case'invoke_':list($_,$_0,$_1)=$node;$ret=$this->_8($_0,$_1);break;case'format_':list($_,$_0)=$node;$ret=$this->_9($_0);break;default:$ret=$this->_10();break;}array_pop($this->_stack);return$ret;}public function __invoke($generator,$namespace,$name,$inits,$invoke){extract($this->_env,EXTR_REFS);$self->generator=$generator;$all=array("class_",$name,array(array("prolog_"),array("constructor_")));$self->inits=$inits;foreach($self->inits as$i=>$code){$all[2][]=array("init_",$i,$code);}if($invoke){$all[2][]=array("invoke_",$invoke[0],$invoke[1]);}else{$all[2][]=array("invoke_",array("s"),"return \$this->parse(\$s);\n");}$all[2][]=array("parse_");if($namespace){$all=array("namespace_",$namespace,$all);}$all=array("toplevel_",$all);return$this->_walk($all);}protected function _0($node){extract($this->_env,EXTR_REFS);return"<?php\n"."// autogenerated file, do not edit!\n".$this->_walk($node);}protected function _1($namespace,$node){extract($this->_env,EXTR_REFS);return"namespace $namespace {\n".$this->_walk($node)."}\n";}protected function _2($name,$nodes){extract($this->_env,EXTR_REFS);return"class $name {\n".i(implode("\n",$this->_walkeach($nodes)))."}\n";}protected function _3(){extract($this->_env,EXTR_REFS);$inits=array();for($i=0,$c=count($self->inits);$i<$c;++$i){$inits[]="\$this->_init$i();";}$inits=implode("\n",$inits)."\n";return"private \$_environments = array(-1 => array());\n"."private \$_environment_stack = array();\n"."private \$_environment_stack_sp = -1;\n"."public function __construct() {\n".i($inits)."}\n";}protected function _4(){extract($this->_env,EXTR_REFS);return"extract(\$this->_environments[\$this->_environment_stack[\$this->_environment_stack_sp]], EXTR_OVERWRITE | EXTR_REFS);";;}protected function _5($env){extract($this->_env,EXTR_REFS);return"\$this->_environment_stack[++\$this->_environment_stack_sp] = ".$env.";";}protected function _6(){extract($this->_env,EXTR_REFS);return"unset(\$this->_environment_stack[\$this->_environment_stack_sp--]);";}protected function _7($i,$code){extract($this->_env,EXTR_REFS);return"private function _init$i() {\n"."    \$this->_environments[$i] = array();\n".i($code)."    \$this->_environments[$i] = get_defined_vars();\n"."}\n";}protected function _8($parameters,$code){extract($this->_env,EXTR_REFS);foreach($parameters as&$parameter){$parameter="$$parameter";}$parameters=implode(", ",$parameters);return"public function __invoke($parameters) {\n"."foreach (\$this->_environments as \$_env) { extract(\$_env, EXTR_OVERWRITE | EXTR_REFS); }\n".i($code)."}\n";}protected function _9($s){extract($this->_env,EXTR_REFS);if(empty($s)){return$s;}$formatted="";foreach(str_split($s)as$c){if($c==='\\'){$formatted.='\\\\';}else if($c==='"'){$formatted.='\\"';}else if($c==="'"){$formatted.="\\'";}else if(ctype_print($c)||$c===" "){$formatted.=$c;}else if($c==="\t"){$formatted.='\t';}else if($c==="\n"){$formatted.='\n';}else if($c==="\r"){$formatted.='\r';}else{$hex=dechex(ord($c));$formatted.="\\x".(strlen($hex)<2?str_pad($hex,2,"0",STR_PAD_LEFT):$hex);}}return$formatted;}protected function _10(){extract($this->_env,EXTR_REFS);return$self->generator->walk($this->_node());}}class generate_gotomachine{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("program"=>array(),"codes"=>array(),"code_to_label"=>array(),"returns"=>array(),"common"=>NULL,);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'prolog_':$ret=$this->_0();break;case'parse_':$ret=$this->_1();break;case'phpize_':list($_,$_0)=$node;$ret=$this->_2($_0);break;case'set':list($_,$_0,$_1)=$node;$ret=$this->_3($_0,$_1);break;case'isset':list($_,$_0)=$node;$ret=$this->_4($_0);break;case'refarray':list($_,$_0,$_1)=$node;$ret=$this->_5($_0,$_1);break;case'append':list($_,$_0,$_1)=$node;$ret=$this->_6($_0,$_1);break;case'arrayappend':list($_,$_0,$_1)=$node;$ret=$this->_7($_0,$_1);break;case'stackinit':list($_,$_0)=$node;$ret=$this->_8($_0);break;case'push':list($_,$_0,$_1)=$node;$ret=$this->_9($_0,$_1);break;case'pop':list($_,$_0,$_1)=$node;$ret=$this->_10($_0,$_1);break;case'top':list($_,$_0,$_1)=$node;$ret=$this->_11($_0,$_1);break;case'jump':list($_,$_0)=$node;$ret=$this->_12($_0);break;case'jumpif':list($_,$_0,$_1)=$node;$ret=$this->_13($_0,$_1);break;case'return':list($_,$_0,$_1)=$node;$ret=$this->_14($_0,$_1);break;case'run':list($_,$_0,$_1)=$node;$ret=$this->_15($_0,$_1);break;case'value':list($_,$_0)=$node;$ret=$this->_16($_0);break;case'not':list($_,$_0)=$node;$ret=$this->_17($_0);break;case'register':list($_,$_0)=$node;$ret=$this->_18($_0);break;case'register_index':list($_,$_0,$_1)=$node;$ret=$this->_19($_0,$_1);break;case'pushenv':list($_,$_0)=$node;$ret=$this->_20($_0);break;case'popenv':$ret=$this->_21();break;case'position':$ret=$this->_22();break;case'any':$ret=$this->_23();break;case'literal':list($_,$_0)=$node;$ret=$this->_24($_0);break;case'range':list($_,$_0)=$node;$ret=$this->_25($_0);break;case'end':$ret=$this->_26();break;case'failed_':list($_,$_0)=$node;$ret=$this->_27($_0);break;default:$ret=$this->_28();break;}array_pop($this->_stack);return$ret;}public function __invoke($input){extract($this->_env,EXTR_REFS);list($namespace,$name,$inits,$invoke,$definitions)=c(new process_input,$input);list($self->program,$self->codes,$self->code_to_label,$self->returns)=c(new link_machine,$definitions);return c($self->common=new generate_common,$this,$namespace,$name,$inits,$invoke);}protected function _0(){extract($this->_env,EXTR_REFS);return"";}protected function _1(){extract($this->_env,EXTR_REFS);$ret="public function parse(\$_s) {\n"."    \$_addr = 0;\n"."    \$_maxp = \$_p = 0;\n"."    \$_expected = array();\n";foreach($self->program as$addr=>$instruction){$ret.="    L$addr: ".$this->_walk($instruction)."\n";}$ret.="    Lend:\n"."    list(\$ok, \$result) = array(!\$_fail, \$_value);\n"."    if (!\$ok) {\n"."        \$before = str_replace(array(\"\\r\\n\", \"\\r\"), \"\\n\", substr(\$_s, 0, \$_maxp));\n"."        \$after = str_replace(array(\"\\r\\n\", \"\\r\"), \"\\n\", substr(\$_s, \$_maxp));\n"."        \$line = 1;\n"."        if ((\$pos = strrpos(\$before, \"\\n\")) !== FALSE) {\n"."            \$line = substr_count(\$before, \"\\n\") + 1;\n"."            \$before = (string) substr(\$before, \$pos + 1);\n"."        }\n"."        if ((\$pos = strpos(\$after, \"\\n\")) !== FALSE) {\n"."            \$after = substr(\$after, 0, \$pos);\n"."        }\n"."        return array(FALSE, NULL, (object) array('position' => \$_maxp, 'line' => \$line, 'column' => strlen(\$before) + 1, 'context' => \$before . \$after, 'expected' => \$_expected));\n"."    }\n"."    return array(TRUE, \$result, NULL);\n"."}\n";foreach($self->codes as$k=>$code){$ret.="private function _$k() {\n".i($self->common->walk(array("extract_environment_")))."    extract(func_get_arg(0), EXTR_OVERWRITE | EXTR_REFS);\n".i($code)."\n}\n";}return$ret;}protected function _2($a){extract($this->_env,EXTR_REFS);if(is_array($a)){$ret=array();foreach($a as$k=>$v){$ret[]=$this->_walk(array("phpize_",$k))." => ".$this->_walk(array("phpize_",$v));}return"array(".implode(", ",$ret).")";}else if(is_string($a)){return'"'.$self->common->walk(array("format_",$a)).'"';}else if(is_null($a)){return"NULL";}else{return var_export($a,TRUE);}}protected function _3($src,$dst){extract($this->_env,EXTR_REFS);return$this->_walk($dst)." = ".$this->_walk($src).";";}protected function _4($src){extract($this->_env,EXTR_REFS);return"isset(".$this->_walk($src).")";}protected function _5($src,$dst){extract($this->_env,EXTR_REFS);return($this->_walk($src)!==$this->_walk($dst)?$this->_walk($dst)." = array(); ":"")."foreach (".$this->_walk($src)." as \$_ref => \$_) { ".$this->_walk($dst)."[\$_ref] =& ".$this->_walk($src)."[\$_ref]; "."}";}protected function _6($src,$dst){extract($this->_env,EXTR_REFS);return$this->_walk($dst)." .= ".$this->_walk($src).";";}protected function _7($src,$dst){extract($this->_env,EXTR_REFS);return$this->_walk($dst)."[] = ".$this->_walk($src).";";}protected function _8($reg){extract($this->_env,EXTR_REFS);return$this->_walk($reg)."_sp = -1; ".$this->_walk($reg)." = array();";}protected function _9($src,$dst){extract($this->_env,EXTR_REFS);return$this->_walk($dst)."[++".$this->_walk($dst)."_sp] = ".$this->_walk($src).";";}protected function _10($src,$dst){extract($this->_env,EXTR_REFS);return($dst!==NULL?$this->_walk($dst)." = ".$this->_walk($src)."[".$this->_walk($src)."_sp]; ":"")."unset(".$this->_walk($src)."[".$this->_walk($src)."_sp--]);";}protected function _11($src,$sub){extract($this->_env,EXTR_REFS);return$this->_walk($src)."[".$this->_walk($src)."_sp".($sub!==array("value",0)?" - ".$this->_walk($sub):"")."]";;}protected function _12($addr){extract($this->_env,EXTR_REFS);$addr=$this->_walk($addr);if($addr[0]!=="$"){return"goto L$addr;";}else{return"\$_addr = $addr; goto Lgoto;";}}protected function _13($cond,$addr){extract($this->_env,EXTR_REFS);return"if (".$this->_walk($cond).") { ".$this->_walk(array("jump",$addr))." }";}protected function _14($label,$addr){extract($this->_env,EXTR_REFS);$addr=$this->_walk($addr);assert(count($self->returns[$label])>0);if(count($self->returns[$label])===1){$to=$self->returns[$label][0];return"if ($addr !== $to) return array(FALSE, NULL, ".var_export($label,TRUE)."); "."goto L".$to.";";}else{$ret="";foreach($self->returns[$label]as$to){$ret.="if ($addr === $to) { goto L$to; } else ";}$ret.="{ return array(FALSE, NULL, ".var_export($label,TRUE)."); }";return$ret;}}protected function _15($n,$env){extract($this->_env,EXTR_REFS);return"\$_value = \$this->_$n(".$this->_walk($env).");";}protected function _16($v){extract($this->_env,EXTR_REFS);return$this->_walk(array("phpize_",$v));}protected function _17($v){extract($this->_env,EXTR_REFS);return"!".$this->_walk($v);}protected function _18($r){extract($this->_env,EXTR_REFS);return"\$_{$r}";}protected function _19($r,$i){extract($this->_env,EXTR_REFS);return"\$_{$r}[".(is_array($i)?$this->_walk($i):$this->_walk(array("phpize_",$i)))."]";}protected function _20($env){extract($this->_env,EXTR_REFS);return$self->common->walk(array("push_environment_",$env));}protected function _21(){extract($this->_env,EXTR_REFS);return$self->common->walk(array("pop_environment_"));}protected function _22(){extract($this->_env,EXTR_REFS);return"\$_a = str_replace(array(\"\\r\\n\", \"\\r\"), \"\\n\", (string) substr(\$_s, 0, \$_p)); "."\$_b = 1; "."if ((\$_c = strrpos(\$_a, \"\\n\")) !== FALSE) { "."\$_b = substr_count(\$_a, \"\\n\") + 1; "."\$_a = (string) substr(\$_a, \$_c + 1); "."} "."\$_fail = FALSE; "."\$_value = array(\$_b, strlen(\$_a) + 1);";}protected function _23(){extract($this->_env,EXTR_REFS);return"\$_fail = TRUE; "."if (isset(\$_s[\$_p])) { "."\$_fail = FALSE; "."\$_value = \$_s[\$_p]; "."\$_p++; "."} else { ".$this->_walk(array("failed_","any character"))."}";}protected function _24($s){extract($this->_env,EXTR_REFS);$encapsed_s='"'.$self->common->walk(array("format_",$s)).'"';return"\$_fail = TRUE; "."if (".(strlen($s)===1?"isset(\$_s[\$_p]) && ":"")."(\$_a = ".(strlen($s)===1?"\$_s[\$_p]":"substr(\$_s, \$_p, ".strlen($s).")").") === ".$encapsed_s.") "."{ "."\$_fail = FALSE; "."\$_value = \$_a; "."\$_p += ".strlen($s)."; "."} else { ".$this->_walk(array("failed_",$encapsed_s))."}";}protected function _25($match){extract($this->_env,EXTR_REFS);$or=array();$str="";foreach($match as$r){if(is_array($r)){$or[]="(".$r[0]." <= \$_a && \$_a <= ".$r[1].")";$str.=chr($r[0])."-".chr($r[1]);}else{$or[]="(\$_a === $r)";$str.=chr($r);}}$str=$self->common->walk(array("format_","[".$str."]"));return"\$_fail = TRUE; "."if (isset(\$_s[\$_p]) && "."is_int(\$_a = ord(\$_s[\$_p])) && "."(".implode(" || ",$or).")) { "."\$_fail = FALSE; "."\$_value = \$_s[\$_p]; "."\$_p++; "."} else { ".$this->_walk(array("failed_",$str))."}";}protected function _26(){extract($this->_env,EXTR_REFS);return"goto Lend;";}protected function _27($on){extract($this->_env,EXTR_REFS);return"if (\$_p >= \$_maxp) { "."if (\$_p > \$_maxp) { "."\$_maxp = \$_p; "."\$_expected = array(); "."} "."if (!in_array(".var_export($on,TRUE).", \$_expected)) { "."\$_expected[] = ".var_export($on,TRUE)."; "."} "."} ";}protected function _28(){extract($this->_env,EXTR_REFS);var_dump($this->_node());die("Unexpected node.\n");}}class generate_php{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("i"=>0,"bound"=>array(),"codes"=>array(),"definitions"=>array(),"common"=>NULL,);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'prolog_':$ret=$this->_0();break;case'parse_':$ret=$this->_1();break;case'codes_':$ret=$this->_2();break;case'rule_':list($_,$_0,$_1)=$node;$ret=$this->_3($_0,$_1);break;case'quarantine':list($_,$_0)=$node;$ret=$this->_4($_0);break;case'environment':list($_,$_0,$_1)=$node;$ret=$this->_5($_0,$_1);break;case'empty_environment':list($_,$_0)=$node;$ret=$this->_6($_0);break;case'first':list($_,$_0)=$node;$ret=$this->_7($_0);break;case'all':list($_,$_0)=$node;$ret=$this->_8($_0);break;case'action':list($_,$_0,$_1)=$node;$ret=$this->_9($_0,$_1);break;case'bind':list($_,$_0,$_1)=$node;$ret=$this->_10($_0,$_1);break;case'and':case'not':list($_,$_0)=$node;$ret=$this->_11($_0);break;case'optional':list($_,$_0)=$node;$ret=$this->_12($_0);break;case'zero_or_more':case'one_or_more':list($_,$_0)=$node;$ret=$this->_13($_0);break;case'apply':list($_,$_0)=$node;$ret=$this->_14($_0);break;case'literal':list($_,$_0)=$node;$ret=$this->_15($_0);break;case'range':list($_,$_0)=$node;$ret=$this->_16($_0);break;case'any':$ret=$this->_17();break;case'semantic_predicate':list($_,$_0)=$node;$ret=$this->_18($_0);break;case'position':$ret=$this->_19();break;case'code_':list($_,$_0)=$node;$ret=$this->_20($_0);break;case'failed_':list($_,$_0)=$node;$ret=$this->_21($_0);break;default:$ret=$this->_22();break;}array_pop($this->_stack);return$ret;}public function __invoke($input){extract($this->_env,EXTR_REFS);list($namespace,$name,$inits,$invoke,$self->definitions)=c(new process_input,$input);return c($self->common=new generate_common,$this,$namespace,$name,$inits,$invoke);}protected function _0(){extract($this->_env,EXTR_REFS);return"private \$_s;\n"."private \$_p;\n"."private \$_maxp;\n"."private \$_expected;\n";}protected function _1(){extract($this->_env,EXTR_REFS);$ret="public function parse(\$s) {\n"."    \$this->_s = \$s;\n"."    \$this->_p = \$this->_maxp = 0;\n"."    \$this->_expected = array();\n"."    list(\$ok, \$result) = \$this->_parse_0();\n"."    if (!\$ok) {\n"."        \$before = str_replace(array(\"\\r\\n\", \"\\r\"), \"\\n\", substr(\$s, 0, \$this->_maxp));\n"."        \$after = str_replace(array(\"\\r\\n\", \"\\r\"), \"\\n\", substr(\$s, \$this->_maxp));\n"."        \$line = 1;\n"."\n"."        if ((\$pos = strrpos(\$before, \"\\n\")) !== FALSE) {\n"."            \$line = substr_count(\$before, \"\\n\") + 1;\n"."            \$before = (string) substr(\$before, \$pos + 1);\n"."        }\n"."\n"."        if ((\$pos = strpos(\$after, \"\\n\")) !== FALSE) {\n"."            \$after = substr(\$after, 0, \$pos);\n"."        }\n"."\n"."        return array(FALSE, NULL, (object) array('position' => \$this->_maxp, 'line' => \$line, 'column' => strlen(\$before) + 1, 'context' => \$before . \$after, 'expected' => \$this->_expected));\n"."    }\n"."\n"."    return array(TRUE, \$result, NULL);\n"."}\n";foreach($self->definitions as$k=>$definition){$ret.=$this->_walk(array("rule_",$k,$definition));}$ret.=$this->_walk(array("codes_"));return$ret;}protected function _2(){extract($this->_env,EXTR_REFS);$ret="";foreach($self->codes as$code){$ret.=$code."\n";}return$ret;}protected function _3($name,$node){extract($this->_env,EXTR_REFS);$self->i=0;$self->bound=array();return"private function _parse_$name() {\n".i($this->_walk($node))."    return \$_0;\n"."}\n";}protected function _4($node){extract($this->_env,EXTR_REFS);$saved_bound=$self->bound;$self->bound=array();$ret=$this->_walk($node);$self->bound=$saved_bound;return$ret;}protected function _5($i,$node){extract($this->_env,EXTR_REFS);return$self->common->walk(array("push_environment_",$i)).$this->_walk($node).$self->common->walk(array("pop_environment_"));}protected function _6($node){extract($this->_env,EXTR_REFS);return$self->common->walk(array("push_environment_",-1)).$this->_walk($node).$self->common->walk(array("pop_environment_"));}protected function _7($nodes){extract($this->_env,EXTR_REFS);$myi=$self->i;$self->i++;$ret="\$_{$myi} = array(FALSE, NULL);\n"."\$_pos{$myi} = \$this->_p;\n"."do {\n";foreach($nodes as$node){$ret.=i($this->_walk($node)."if (!\$_{$self->i}[0]) {\n"."    \$this->_p = \$_pos{$myi};\n"."} else {\n"."    \$_{$myi} = \$_{$self->i};\n"."    break;\n"."}\n");$self->i++;}$ret.="} while(0);\n";$self->i=$myi;return$ret;}protected function _8($nodes){extract($this->_env,EXTR_REFS);$is_simple=c(new is_simple,array($this->_nodetype(),$nodes));$myi=$self->i;foreach($nodes as$k=>$node){if($node[0]==="bind"){$node=$node[2];}if(in_array($node[0],array("and","not","semantic_predicate"))){continue;}$reti=$myi+$k+1;break;}if(!(isset($reti)&&$reti!==NULL)){$reti=$myi;}$ret="";if($is_simple){$ret.="\$_s{$myi} = '';\n";}$ret.="do {\n";foreach($nodes as$k=>$node){$self->i=$myi+$k+1;$ret.=i($this->_walk($node)."if (!\$_{$self->i}[0]) {\n"."    \$_{$reti} = array(FALSE, NULL);\n"."    break;\n"."}\n");if($is_simple){$ret.=i("\$_s{$myi} .= \$_{$self->i}[1];\n");}}$ret.="} while(0);\n"."\$_{$myi} = \$_{$reti};\n".($is_simple?"\$_{$myi}[1] = \$_s{$myi};\n":"");$self->i=$myi;return$ret;}protected function _9($node,$code){extract($this->_env,EXTR_REFS);$myi=$self->i;$self->i=$myi+1;$saved_bound=$self->bound;$ret=$this->_walk($node)."\$_{$myi} = array(FALSE, NULL);\n"."if (\$_{$self->i}[0]) {\n"."    \$_{$myi} = array(TRUE, ".$this->_walk(array("code_",$code)).");\n"."}\n";$self->bound=$saved_bound;$self->i=$myi;return$ret;}protected function _10($varname,$node){extract($this->_env,EXTR_REFS);$self->bound[$varname]=$self->i;return$this->_walk($node);}protected function _11($node){extract($this->_env,EXTR_REFS);$myi=$self->i;$self->i=$myi+1;$ret="\$_pos{$myi} = \$this->_p;\n".$this->_walk($node)."\$_{$myi} = array(".($this->_nodetype()==="not"?"!":"")."\$_{$self->i}[0], NULL);\n"."\$this->_p = \$_pos{$myi};\n";$self->i=$myi;return$ret;}protected function _12($node){extract($this->_env,EXTR_REFS);$myi=$self->i;$self->i=$myi+1;$ret="\$_{$myi} = array(TRUE, NULL);\n"."\$_pos{$myi} = \$this->_p;\n".$this->_walk($node)."if (!\$_{$self->i}[0]) {\n"."    \$this->_p = \$_pos{$myi};\n"."} else {\n"."    \$_{$myi} = \$_{$self->i};\n"."}\n";$self->i=$myi;return$ret;}protected function _13($node){extract($this->_env,EXTR_REFS);$is_simple=c(new is_simple,$node);$myi=$self->i;$self->i=$myi+1;$ret="\$_{$myi} = array(".($this->_nodetype()==="zero_or_more"?"TRUE":"FALSE").", ".($is_simple?"''":"array()").");\n"."do {\n"."    \$_pos{$myi} = \$this->_p;\n".i($this->_walk($node))."    if (!\$_{$self->i}[0]) { \$this->_p = \$_pos{$myi}; }\n"."    else {\n"."        \$_{$myi}[0] = TRUE;\n".($is_simple?"        \$_{$myi}[1] .= \$_{$self->i}[1];\n":"        \$_{$myi}[1][] = \$_{$self->i}[1];\n")."    }\n"."} while (\$_{$self->i}[0]);\n";$self->i=$myi;return$ret;}protected function _14($name){extract($this->_env,EXTR_REFS);return"\$_{$self->i} = \$this->_parse_$name();\n";}protected function _15($s){extract($this->_env,EXTR_REFS);$encapsed_s='"'.$self->common->walk(array("format_",$s)).'"';return"\$_{$self->i} = array(FALSE, NULL);\n"."if ((\$_{$self->i}_ = substr(\$this->_s, \$this->_p, ".strlen($s).")) === ".$encapsed_s.") {\n"."    \$_{$self->i} = array(TRUE, \$_{$self->i}_);\n"."    \$this->_p += ".strlen($s).";\n"."} else {\n".i($this->_walk(array("failed_",$encapsed_s)))."}\n";}protected function _16($match){extract($this->_env,EXTR_REFS);$or=array();$str="";foreach($match as$r){if(is_array($r)){$or[]="(".$r[0]." <= \$_{$self->i}_ && \$_{$self->i}_ <= ".$r[1].")";$str.=chr($r[0])."-".chr($r[1]);}else{$or[]="(\$_{$self->i}_ === $r)";$str.=chr($r);}}$str=$self->common->walk(array("format_","[".$str."]"));return"\$_{$self->i} = array(FALSE, NULL);\n"."if (isset(\$this->_s[\$this->_p]) && "."is_int(\$_{$self->i}_ = ord(\$this->_s[\$this->_p])) && "."(".implode(" || ",$or).")) {\n"."    \$_{$self->i} = array(TRUE, \$this->_s[\$this->_p]);\n"."    \$this->_p++;\n"."} else {\n".i($this->_walk(array("failed_",$str)))."}\n";}protected function _17(){extract($this->_env,EXTR_REFS);return"\$_{$self->i} = array(FALSE, NULL);\n"."if (isset(\$this->_s[\$this->_p])) {\n"."    \$_{$self->i} = array(TRUE, \$this->_s[\$this->_p]);\n"."    \$this->_p++;\n"."} else {\n".i($this->_walk(array("failed_","any character")))."}\n";}protected function _18($code){extract($this->_env,EXTR_REFS);return"\$_{$self->i} = array((bool) ".$this->_walk(array("code_",$code)).", NULL);\n";}protected function _19(){extract($this->_env,EXTR_REFS);return"\$_before{$self->i} = str_replace(array(\"\\r\\n\", \"\\r\"), \"\\n\", (string) substr(\$this->_s, 0, \$this->_p));\n"."\$_line{$self->i} = 1;\n"."if ((\$_pos{$self->i} = strrpos(\$_before{$self->i}, \"\\n\")) !== FALSE) {\n"."    \$_line{$self->i} = substr_count(\$_before{$self->i}, \"\\n\") + 1;\n"."    \$_before{$self->i} = (string) substr(\$_before{$self->i}, \$_pos{$self->i} + 1);\n"."}\n"."\$_{$self->i} = array(TRUE, array(\$_line{$self->i}, strlen(\$_before{$self->i}) + 1));\n";}protected function _20($code){extract($this->_env,EXTR_REFS);$input=array();foreach($self->bound as$varname=>$i){$input[]="'{$varname}' => &\$_{$i}[1]";}$name="_".count($self->codes);$self->codes[]="private function ".$name."() {\n".i($self->common->walk(array("extract_environment_")))."    extract(func_get_arg(0), EXTR_OVERWRITE | EXTR_REFS);\n".i($code)."\n}\n";return"\$this->$name(array(".implode(", ",$input)."))";}protected function _21($on){extract($this->_env,EXTR_REFS);return"if (\$this->_p >= \$this->_maxp) {\n"."    if (\$this->_p > \$this->_maxp) {\n"."        \$this->_maxp = \$this->_p;\n"."        \$this->_expected = array();\n"."    }\n"."    if (!in_array(".var_export($on,TRUE).", \$this->_expected)) {\n"."        \$this->_expected[] = ".var_export($on,TRUE).";\n"."    }\n"."}\n";}protected function _22(){extract($this->_env,EXTR_REFS);var_dump($this->_node());die("Unexpected node.\n");}}class is_simple{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'first':case'all':list($_,$_0)=$node;$ret=$this->_0($_0);break;case'environment':list($_,$_0,$_1)=$node;$ret=$this->_1($_0,$_1);break;case'optional':case'zero_or_more':case'one_or_more':case'quarantine':case'empty_environment':list($_,$_0)=$node;$ret=$this->_2($_0);break;case'apply':case'action':case'bind':$ret=$this->_3();break;case'and':case'semantic_predicate':case'not':case'literal':case'range':case'any':case'position':$ret=$this->_4();break;default:$ret=$this->_5();break;}array_pop($this->_stack);return$ret;}public function __invoke($node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _0($nodes){extract($this->_env,EXTR_REFS);foreach($this->_walkeach($nodes)as$node){if(!$node){return FALSE;}}return TRUE;}protected function _1($i,$node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _2($node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _3(){extract($this->_env,EXTR_REFS);return FALSE;}protected function _4(){extract($this->_env,EXTR_REFS);return TRUE;}protected function _5(){extract($this->_env,EXTR_REFS);return FALSE;}}class link_machine{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("labels"=>array(),"returns"=>array(),);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'set':case'push':case'pop':case'append':case'arrayappend':list($_,$_0,$_1)=$node;$ret=$this->_0($_0,$_1);break;case'jump':list($_,$_0)=$node;$ret=$this->_1($_0);break;case'jumpif':list($_,$_0,$_1)=$node;$ret=$this->_2($_0,$_1);break;case'run':list($_,$_0,$_1)=$node;$ret=$this->_3($_0,$_1);break;case'offset':list($_,$_0)=$node;$ret=$this->_4($_0);break;case'label':list($_,$_0)=$node;$ret=$this->_5($_0);break;default:$ret=$this->_6();break;}array_pop($this->_stack);return$ret;}public function __invoke($definitions){extract($this->_env,EXTR_REFS);reset($definitions);$ret=array(array("stackinit",array("register","stack")),array("set",array("value",FALSE),array("register","fail")),array("set",array("value",NULL),array("register","value")),array("set",array("value",array()),array("register","cache")),array("set",array("value",NULL),array("register","a")),array("set",array("value",NULL),array("register","b")),array("set",array("value",NULL),array("register","c")),array("set",array("value",NULL),array("register","d")),array("set",array("value",array()),array("register","env")),array("push",array("offset",2),array("register","stack")),array("jump",array("label",key($definitions))),array("end"),);$codes=array();$code_to_label=array();foreach($definitions as$label=>$definition){$self->labels[$label]=count($ret);$self->returns[$label]=array();list($instructions,$newcodes)=c(new compile_machine,$definition);$instructions=array_merge(array(array("push",array("value",$label."@"),array("register","stack")),array("append",array("register","p"),array("top",array("register","stack"),array("value",0))),array("jumpif",array("not",array("isset",array("register_index","cache",array("top",array("register","stack"),array("value",0))))),array("offset",7)),array("pop",array("register","stack"),array("register","a")),array("set",array("register_index","cache",array("register","a")),array("register","b")),array("set",array("register_index","b",0),array("register","fail")),array("set",array("register_index","b",1),array("register","value")),array("set",array("register_index","b",2),array("register","p")),array("jump",array("offset",10+count($instructions))),array("push",array("register","env"),array("register","stack")),array("set",array("value",array()),array("register","env")),),$instructions,array(array("pop",array("register","stack"),array("register","env")),array("pop",array("register","stack"),array("register","a")),array("set",array("value",array()),array("register","b")),array("set",array("register","fail"),array("register_index","b",0)),array("set",array("register","value"),array("register_index","b",1)),array("set",array("register","p"),array("register_index","b",2)),array("set",array("register","b"),array("register_index","cache",array("register","a"))),));$startn=count($codes);$codes=array_merge($codes,$newcodes);for($i=$startn,$n=$startn+count($newcodes);$i<$n;++$i){$code_to_label[$i]=$label;}foreach($instructions as&$instruction){if($instruction[0]==="run"){$instruction[1]+=$startn;}}$instructions[]=array("pop",array("register","stack"),array("register","a"));$instructions[]=array("return",$label,array("register","a"));$ret=array_merge($ret,$instructions);}$ret=$this->_walkeach($ret);return array($ret,$codes,$code_to_label,$self->returns);}protected function _0($src,$dst){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk($src),$this->_walk($dst));}protected function _1($addr){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk($addr));}protected function _2($cond,$addr){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk($cond),$this->_walk($addr));}protected function _3($n,$env){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$n,$this->_walk($env));}protected function _4($offset){extract($this->_env,EXTR_REFS);return array("value",$this->_index()+$offset);}protected function _5($label){extract($this->_env,EXTR_REFS);$self->returns[$label][]=$this->_index()+1;return array("value",$self->labels[$label]);}protected function _6(){extract($this->_env,EXTR_REFS);return$this->_node();}}class parse_input{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("namespace"=>NULL,"name"=>NULL,"init"=>NULL,"invoke"=>NULL,"provided"=>array(),"provides"=>array(),"n"=>0,"final_reindex"=>array(),"definitions"=>array(),"file"=>NULL,"imported_by"=>array(),"defined"=>array(),);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'phpeg':list($_,$_0)=$node;$ret=$this->_0($_0);break;case'import':list($_,$_0,$_1)=$node;$ret=$this->_1($_0,$_1);break;case'file_':list($_,$_0)=$node;$ret=$this->_2($_0);break;case'namespace':list($_,$_0)=$node;$ret=$this->_3($_0);break;case'name':list($_,$_0)=$node;$ret=$this->_4($_0);break;case'init':list($_,$_0)=$node;$ret=$this->_5($_0);break;case'invoke':list($_,$_0,$_1)=$node;$ret=$this->_6($_0,$_1);break;case'rule':case'macro':list($_,$_0)=$node;$ret=$this->_7($_0);break;}array_pop($this->_stack);return$ret;}public function __invoke($file,$imported_by,$provided){extract($this->_env,EXTR_REFS);$self->file=$this->_walk(array("file_",$file));$self->imported_by=$imported_by;$self->provided=$provided;if(!empty($self->provided)){$self->n=end(end($self->provided)->reindex)+1;}list($ok,$tree,$errinfo)=c(new parse_phpeg,file_get_contents($file));if(!$ok){die("Parse error in file {$self->file} on line {$errinfo->line}, column {$errinfo->column}:\n"."{$errinfo->context}\n".str_repeat(" ",$errinfo->column-1)."^\n"."Expected: ".implode(", ",$errinfo->expected)."\n");}return$this->_walk($tree);}protected function _0($nodes){extract($this->_env,EXTR_REFS);$this->_walkeach(c(new select_nodes,array("namespace","name","init","invoke"),$nodes));c(new check_macros_recursive,$self->file,c(new select_nodes,array("macro"),$nodes));$self->definitions=array_values(c(new select_nodes,array("rule","macro"),$nodes));$reindex=array();foreach($self->definitions as$k=>$definition){$reindex[$self->defined[]=$this->_walk($definition)]=$self->n+$k;}$saved_definitions=$self->definitions;$self->provides[$self->file]=(object)array("namespace"=>$self->namespace,"name"=>$self->name,"init"=>$self->init,"invoke"=>$self->invoke,"reindex"=>$reindex,"start"=>$self->n,"count"=>count($self->definitions),);$imports=c(new select_nodes,array("import"),$nodes);if(!empty($imports)){$this->_walkeach($imports);}list($doesnt_exist,$reindexed)=c(new reindex,$saved_definitions,array_merge($reindex,$self->final_reindex));if(!empty($doesnt_exist)){die("These rules needed in file {$self->file}, but does not exist: ".implode(", ",$doesnt_exist).".\n");}$self->definitions=array_merge($reindexed,array_slice($self->definitions,count($saved_definitions)));return array($self->provides,$self->definitions);}protected function _1($spec,$path){extract($this->_env,EXTR_REFS);if($spec===TRUE){$prefix="";}else if(is_string($spec)){$prefix=$spec.".";}else{$prefix=basename($path);if(($pos=strrpos($prefix,"."))!==FALSE){$prefix=substr($prefix,0,$pos);}$prefix.=".";}$file=$this->_walk(array("file_",$path));if(isset($self->provided[$file])){$for_final_reindex=$self->provided[$file]->reindex;}else{if(!isset($self->provides[$file])){list($provides,$definitions)=c(new self,$file,array_merge($self->imported_by,array($self->file)),array_merge($self->provided,$self->provides));$self->n=end(end($provides)->reindex)+1;$self->definitions=array_merge($self->definitions,$definitions);$self->provides=array_merge($self->provides,$provides);}$for_final_reindex=$self->provides[$file]->reindex;}foreach($for_final_reindex as$from=>$to){if(in_array($prefix.$from,$self->defined)){die("Name collision: {$from} imported by {$file} already defined in {$self->file}.\n");}$self->final_reindex[$prefix.$from]=$to;}}protected function _2($path){extract($this->_env,EXTR_REFS);if(strncmp($path,"php:",4)===0){return$path;}if($self->file!==NULL){$path=dirname($self->file)."/".$path;}$realpath=realpath($path);if(!$realpath){die("File {$path} does not exist.\n");}return$realpath;}protected function _3($namespace){extract($this->_env,EXTR_REFS);if($self->namespace!==NULL){die("Multiple namespace declarations in file {$self->file}".(!empty($self->imported_by)?" imported by ".implode(", ",$self->imported_by):"").".\n");}$self->namespace=$namespace;return FALSE;}protected function _4($name){extract($this->_env,EXTR_REFS);if($self->name!==NULL){die("Multiple name declarations in file {$self->file}".(!empty($self->imported_by)?" imported by ".implode(", ",$self->imported_by):"").".\n");}$self->name=$name;return FALSE;}protected function _5($code){extract($this->_env,EXTR_REFS);if($self->init!==NULL){die("Multiple init declarations in file {$self->file}".(!empty($self->imported_by)?" imported by ".implode(", ",$self->imported_by):"").".\n");}$self->init=$code;return FALSE;}protected function _6($arguments,$code){extract($this->_env,EXTR_REFS);if($self->invoke!==NULL){die("Multiple invoke declarations in file {$self->file}".(!empty($self->imported_by)?" imported by ".implode(", ",$self->imported_by):"").".\n");}$self->invoke=array($arguments,$code);return FALSE;}protected function _7($name){extract($this->_env,EXTR_REFS);return$name;}}class parse_phpeg{private$_environments=array(-1=>array());private$_environment_stack=array();private$_environment_stack_sp=-1;public function __construct(){}public function __invoke($s){foreach($this->_environments as$_env){extract($_env,EXTR_OVERWRITE|EXTR_REFS);}return$this->parse($s);}public function parse($_s){$_addr=0;$_maxp=$_p=0;$_expected=array();L0:$_stack_sp=-1;$_stack=array();L1:$_fail=false;L2:$_value=NULL;L3:$_cache=array();L4:$_a=NULL;L5:$_b=NULL;L6:$_c=NULL;L7:$_d=NULL;L8:$_env=array();L9:$_stack[++$_stack_sp]=11;L10:goto L12;L11:goto Lend;L12:$_stack[++$_stack_sp]="0@";L13:$_stack[$_stack_sp].=$_p;L14:if(!isset($_cache[$_stack[$_stack_sp]])){goto L21;}L15:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L16:$_b=$_cache[$_a];L17:$_fail=$_b[0];L18:$_value=$_b[1];L19:$_p=$_b[2];L20:goto L284;L21:$_stack[++$_stack_sp]=$_env;L22:$_env=array();L23:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L24:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L25:$_stack[++$_stack_sp]=$_b;L26:$_stack[++$_stack_sp]=NULL;L27:$_stack[++$_stack_sp]=29;L28:goto L1483;L29:$_stack[$_stack_sp]=$_value;L30:if($_fail){goto L272;}L31:$_stack[++$_stack_sp]=$_p;L32:$_stack[++$_stack_sp]=array();L33:$_stack[++$_stack_sp]=$_p;L34:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L35:$_stack[++$_stack_sp]=$_b;L36:$_stack[++$_stack_sp]=NULL;L37:$_fail=TRUE;if(($_a=substr($_s,$_p,10))==="-namespace"){$_fail=FALSE;$_value=$_a;$_p+=10;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"-namespace"',$_expected)){$_expected[]='"-namespace"';}}}L38:$_stack[$_stack_sp]=$_value;L39:if($_fail){goto L95;}L40:$_stack[++$_stack_sp]=42;L41:goto L1577;L42:if($_fail){goto L95;}L43:$_stack[++$_stack_sp]=$_env;L44:$_env=array();L45:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L46:$_stack[++$_stack_sp]=$_b;L47:$_stack[++$_stack_sp]=NULL;L48:$_stack[++$_stack_sp]=$_env;L49:$_env=array();L50:$_stack[++$_stack_sp]=52;L51:goto L1280;L52:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L53:$_env["first"]=$_value;L54:$_stack[$_stack_sp]=$_value;L55:if($_fail){goto L86;}L56:$_stack[++$_stack_sp]=$_p;L57:$_stack[++$_stack_sp]=array();L58:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L59:$_stack[++$_stack_sp]=$_b;L60:$_stack[++$_stack_sp]=NULL;L61:$_stack[++$_stack_sp]=$_env;L62:$_env=array();L63:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="\\"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\"',$_expected)){$_expected[]='"\\\\"';}}}L64:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L65:$_env["s"]=$_value;L66:$_stack[$_stack_sp]=$_value;L67:if($_fail){goto L74;}L68:$_stack[++$_stack_sp]=$_env;L69:$_env=array();L70:$_stack[++$_stack_sp]=72;L71:goto L1280;L72:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L73:$_env["next"]=$_value;L74:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L75:if($_fail){goto L77;}L76:$_value=$this->_3($_env);L77:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L78:if($_fail){goto L82;}L79:$_stack[$_stack_sp][]=$_value;L80:$_stack[$_stack_sp-1]=$_p;L81:goto L58;L82:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L83:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L84:$_fail=false;L85:$_env["rest"]=$_value;L86:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L87:if($_fail){goto L89;}L88:$_value=$this->_2($_env);L89:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L90:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L91:$_env["namespace"]=$_value;L92:if($_fail){goto L95;}L93:$_stack[++$_stack_sp]=95;L94:goto L1483;L95:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L96:if($_fail){goto L98;}L97:$_value=$this->_1($_env);L98:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L99:if(!$_fail){goto L234;}L100:$_p=$_stack[$_stack_sp];L101:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L102:$_stack[++$_stack_sp]=$_b;L103:$_stack[++$_stack_sp]=NULL;L104:$_fail=TRUE;if(($_a=substr($_s,$_p,5))==="-name"){$_fail=FALSE;$_value=$_a;$_p+=5;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"-name"',$_expected)){$_expected[]='"-name"';}}}L105:$_stack[$_stack_sp]=$_value;L106:if($_fail){goto L116;}L107:$_stack[++$_stack_sp]=109;L108:goto L1577;L109:if($_fail){goto L116;}L110:$_stack[++$_stack_sp]=112;L111:goto L1280;L112:$_env["name"]=$_value;L113:if($_fail){goto L116;}L114:$_stack[++$_stack_sp]=116;L115:goto L1483;L116:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L117:if($_fail){goto L119;}L118:$_value=$this->_4($_env);L119:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L120:if(!$_fail){goto L234;}L121:$_p=$_stack[$_stack_sp];L122:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L123:$_stack[++$_stack_sp]=$_b;L124:$_stack[++$_stack_sp]=NULL;L125:$_fail=TRUE;if(($_a=substr($_s,$_p,5))==="-init"){$_fail=FALSE;$_value=$_a;$_p+=5;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"-init"',$_expected)){$_expected[]='"-init"';}}}L126:$_stack[$_stack_sp]=$_value;L127:if($_fail){goto L137;}L128:$_stack[++$_stack_sp]=130;L129:goto L1483;L130:if($_fail){goto L137;}L131:$_stack[++$_stack_sp]=133;L132:goto L1318;L133:$_env["code"]=$_value;L134:if($_fail){goto L137;}L135:$_stack[++$_stack_sp]=137;L136:goto L1483;L137:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L138:if($_fail){goto L140;}L139:$_value=$this->_5($_env);L140:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L141:if(!$_fail){goto L234;}L142:$_p=$_stack[$_stack_sp];L143:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L144:$_stack[++$_stack_sp]=$_b;L145:$_stack[++$_stack_sp]=NULL;L146:$_fail=TRUE;if(($_a=substr($_s,$_p,7))==="-invoke"){$_fail=FALSE;$_value=$_a;$_p+=7;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"-invoke"',$_expected)){$_expected[]='"-invoke"';}}}L147:$_stack[$_stack_sp]=$_value;L148:if($_fail){goto L171;}L149:$_stack[++$_stack_sp]=151;L150:goto L1483;L151:if($_fail){goto L171;}L152:$_stack[++$_stack_sp]=$_p;L153:$_stack[++$_stack_sp]=155;L154:goto L1717;L155:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L156:if(!$_fail){goto L160;}L157:$_fail=false;L158:$_value=NULL;L159:$_p=$_a;L160:$_env["parameters"]=$_value;L161:if($_fail){goto L171;}L162:$_stack[++$_stack_sp]=164;L163:goto L1483;L164:if($_fail){goto L171;}L165:$_stack[++$_stack_sp]=167;L166:goto L1318;L167:$_env["code"]=$_value;L168:if($_fail){goto L171;}L169:$_stack[++$_stack_sp]=171;L170:goto L1483;L171:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L172:if($_fail){goto L174;}L173:$_value=$this->_6($_env);L174:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L175:if(!$_fail){goto L234;}L176:$_p=$_stack[$_stack_sp];L177:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L178:$_stack[++$_stack_sp]=$_b;L179:$_stack[++$_stack_sp]=NULL;L180:$_fail=TRUE;if(($_a=substr($_s,$_p,7))==="-import"){$_fail=FALSE;$_value=$_a;$_p+=7;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"-import"',$_expected)){$_expected[]='"-import"';}}}L181:$_stack[$_stack_sp]=$_value;L182:if($_fail){goto L230;}L183:$_stack[++$_stack_sp]=185;L184:goto L1577;L185:if($_fail){goto L230;}L186:$_stack[++$_stack_sp]=$_p;L187:$_stack[++$_stack_sp]=$_p;L188:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L189:$_stack[++$_stack_sp]=$_b;L190:$_stack[++$_stack_sp]=NULL;L191:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="."){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"."',$_expected)){$_expected[]='"."';}}}L192:$_stack[$_stack_sp]=$_value;L193:if($_fail){goto L196;}L194:$_stack[++$_stack_sp]=196;L195:goto L1577;L196:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L197:if($_fail){goto L199;}L198:$_value=$this->_8($_env);L199:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L200:if(!$_fail){goto L216;}L201:$_p=$_stack[$_stack_sp];L202:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L203:$_stack[++$_stack_sp]=$_b;L204:$_stack[++$_stack_sp]=NULL;L205:$_stack[++$_stack_sp]=207;L206:goto L1280;L207:$_env["name"]=$_value;L208:$_stack[$_stack_sp]=$_value;L209:if($_fail){goto L212;}L210:$_stack[++$_stack_sp]=212;L211:goto L1577;L212:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L213:if($_fail){goto L215;}L214:$_value=$this->_9($_env);L215:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L216:unset($_stack[$_stack_sp--]);L217:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L218:if(!$_fail){goto L222;}L219:$_fail=false;L220:$_value=NULL;L221:$_p=$_a;L222:$_env["spec"]=$_value;L223:if($_fail){goto L230;}L224:$_stack[++$_stack_sp]=226;L225:goto L1074;L226:$_env["path"]=$_value;L227:if($_fail){goto L230;}L228:$_stack[++$_stack_sp]=230;L229:goto L1483;L230:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L231:if($_fail){goto L233;}L232:$_value=$this->_7($_env);L233:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L234:unset($_stack[$_stack_sp--]);L235:if($_fail){goto L239;}L236:$_stack[$_stack_sp][]=$_value;L237:$_stack[$_stack_sp-1]=$_p;L238:goto L33;L239:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L240:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L241:$_fail=false;L242:$_env["declarations"]=$_value;L243:if($_fail){goto L272;}L244:$_stack[++$_stack_sp]=$_p;L245:$_stack[++$_stack_sp]=array();L246:$_stack[++$_stack_sp]=true;L247:$_stack[++$_stack_sp]=$_p;L248:$_stack[++$_stack_sp]=250;L249:goto L286;L250:if(!$_fail){goto L254;}L251:$_p=$_stack[$_stack_sp];L252:$_stack[++$_stack_sp]=254;L253:goto L338;L254:unset($_stack[$_stack_sp--]);L255:if($_fail){goto L260;}L256:$_stack[$_stack_sp]=false;L257:$_stack[$_stack_sp-1][]=$_value;L258:$_stack[$_stack_sp-2]=$_p;L259:goto L247;L260:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L261:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L262:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L263:if($_a){goto L265;}L264:$_fail=false;L265:$_env["definitions"]=$_value;L266:if($_fail){goto L272;}L267:$_stack[++$_stack_sp]=$_p;L268:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L269:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L270:$_value=NULL;L271:$_fail=!$_fail;L272:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L273:if($_fail){goto L275;}L274:$_value=$this->_0($_env);L275:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L276:unset($this->_environment_stack[$this->_environment_stack_sp--]);L277:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L278:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L279:$_b=array();L280:$_b[0]=$_fail;L281:$_b[1]=$_value;L282:$_b[2]=$_p;L283:$_cache[$_a]=$_b;L284:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L285:if($_a!==11)return array(FALSE,NULL,0);goto L11;L286:$_stack[++$_stack_sp]="1@";L287:$_stack[$_stack_sp].=$_p;L288:if(!isset($_cache[$_stack[$_stack_sp]])){goto L295;}L289:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L290:$_b=$_cache[$_a];L291:$_fail=$_b[0];L292:$_value=$_b[1];L293:$_p=$_b[2];L294:goto L336;L295:$_stack[++$_stack_sp]=$_env;L296:$_env=array();L297:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L298:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L299:$_stack[++$_stack_sp]=$_b;L300:$_stack[++$_stack_sp]=NULL;L301:$_stack[++$_stack_sp]=303;L302:goto L1280;L303:$_env["name"]=$_value;L304:$_stack[$_stack_sp]=$_value;L305:if($_fail){goto L324;}L306:$_stack[++$_stack_sp]=308;L307:goto L1717;L308:$_env["parameters"]=$_value;L309:if($_fail){goto L324;}L310:$_stack[++$_stack_sp]=312;L311:goto L1483;L312:if($_fail){goto L324;}L313:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="="){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"="',$_expected)){$_expected[]='"="';}}}L314:if($_fail){goto L324;}L315:$_stack[++$_stack_sp]=317;L316:goto L1483;L317:if($_fail){goto L324;}L318:$_stack[++$_stack_sp]=320;L319:goto L386;L320:$_env["expression"]=$_value;L321:if($_fail){goto L324;}L322:$_stack[++$_stack_sp]=324;L323:goto L1483;L324:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L325:if($_fail){goto L327;}L326:$_value=$this->_10($_env);L327:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L328:unset($this->_environment_stack[$this->_environment_stack_sp--]);L329:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L330:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L331:$_b=array();L332:$_b[0]=$_fail;L333:$_b[1]=$_value;L334:$_b[2]=$_p;L335:$_cache[$_a]=$_b;L336:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L337:if($_a!==250)return array(FALSE,NULL,1);goto L250;L338:$_stack[++$_stack_sp]="2@";L339:$_stack[$_stack_sp].=$_p;L340:if(!isset($_cache[$_stack[$_stack_sp]])){goto L347;}L341:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L342:$_b=$_cache[$_a];L343:$_fail=$_b[0];L344:$_value=$_b[1];L345:$_p=$_b[2];L346:goto L384;L347:$_stack[++$_stack_sp]=$_env;L348:$_env=array();L349:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L350:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L351:$_stack[++$_stack_sp]=$_b;L352:$_stack[++$_stack_sp]=NULL;L353:$_stack[++$_stack_sp]=355;L354:goto L1280;L355:$_env["name"]=$_value;L356:$_stack[$_stack_sp]=$_value;L357:if($_fail){goto L372;}L358:$_stack[++$_stack_sp]=360;L359:goto L1483;L360:if($_fail){goto L372;}L361:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="="){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"="',$_expected)){$_expected[]='"="';}}}L362:if($_fail){goto L372;}L363:$_stack[++$_stack_sp]=365;L364:goto L1483;L365:if($_fail){goto L372;}L366:$_stack[++$_stack_sp]=368;L367:goto L386;L368:$_env["expression"]=$_value;L369:if($_fail){goto L372;}L370:$_stack[++$_stack_sp]=372;L371:goto L1483;L372:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L373:if($_fail){goto L375;}L374:$_value=$this->_11($_env);L375:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L376:unset($this->_environment_stack[$this->_environment_stack_sp--]);L377:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L378:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L379:$_b=array();L380:$_b[0]=$_fail;L381:$_b[1]=$_value;L382:$_b[2]=$_p;L383:$_cache[$_a]=$_b;L384:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L385:if($_a!==254)return array(FALSE,NULL,2);goto L254;L386:$_stack[++$_stack_sp]="3@";L387:$_stack[$_stack_sp].=$_p;L388:if(!isset($_cache[$_stack[$_stack_sp]])){goto L395;}L389:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L390:$_b=$_cache[$_a];L391:$_fail=$_b[0];L392:$_value=$_b[1];L393:$_p=$_b[2];L394:goto L468;L395:$_stack[++$_stack_sp]=$_env;L396:$_env=array();L397:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L398:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L399:$_stack[++$_stack_sp]=$_b;L400:$_stack[++$_stack_sp]=$_env;L401:$_env=array();L402:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L403:$_stack[++$_stack_sp]=$_b;L404:$_stack[++$_stack_sp]=NULL;L405:$_stack[++$_stack_sp]=$_env;L406:$_env=array();L407:$_stack[++$_stack_sp]=409;L408:goto L470;L409:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L410:$_env["first"]=$_value;L411:$_stack[$_stack_sp]=$_value;L412:if($_fail){goto L451;}L413:$_stack[++$_stack_sp]=$_p;L414:$_stack[++$_stack_sp]=array();L415:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L416:$_stack[++$_stack_sp]=$_b;L417:$_stack[++$_stack_sp]=NULL;L418:$_stack[++$_stack_sp]=$_env;L419:$_env=array();L420:$_stack[++$_stack_sp]=NULL;L421:$_stack[++$_stack_sp]=423;L422:goto L1483;L423:$_stack[$_stack_sp]=$_value;L424:if($_fail){goto L429;}L425:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="/"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"/"',$_expected)){$_expected[]='"/"';}}}L426:if($_fail){goto L429;}L427:$_stack[++$_stack_sp]=429;L428:goto L1483;L429:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L430:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L431:$_stack[$_stack_sp]=$_value;L432:if($_fail){goto L439;}L433:$_stack[++$_stack_sp]=$_env;L434:$_env=array();L435:$_stack[++$_stack_sp]=437;L436:goto L470;L437:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L438:$_env["next"]=$_value;L439:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L440:if($_fail){goto L442;}L441:$_value=$this->_14($_env);L442:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L443:if($_fail){goto L447;}L444:$_stack[$_stack_sp][]=$_value;L445:$_stack[$_stack_sp-1]=$_p;L446:goto L415;L447:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L448:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L449:$_fail=false;L450:$_env["rest"]=$_value;L451:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L452:if($_fail){goto L454;}L453:$_value=$this->_13($_env);L454:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L455:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L456:$_env["expressions"]=$_value;L457:if($_fail){goto L459;}L458:$_value=$this->_12($_env);L459:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L460:unset($this->_environment_stack[$this->_environment_stack_sp--]);L461:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L462:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L463:$_b=array();L464:$_b[0]=$_fail;L465:$_b[1]=$_value;L466:$_b[2]=$_p;L467:$_cache[$_a]=$_b;L468:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L469:if($_a===320){goto L320;}else if($_a===368){goto L368;}else if($_a===789){goto L789;}else if($_a===817){goto L817;}else if($_a===927){goto L927;}else{return array(FALSE,NULL,3);}L470:$_stack[++$_stack_sp]="4@";L471:$_stack[$_stack_sp].=$_p;L472:if(!isset($_cache[$_stack[$_stack_sp]])){goto L479;}L473:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L474:$_b=$_cache[$_a];L475:$_fail=$_b[0];L476:$_value=$_b[1];L477:$_p=$_b[2];L478:goto L560;L479:$_stack[++$_stack_sp]=$_env;L480:$_env=array();L481:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L482:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L483:$_stack[++$_stack_sp]=$_b;L484:$_stack[++$_stack_sp]=NULL;L485:$_stack[++$_stack_sp]=$_env;L486:$_env=array();L487:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L488:$_stack[++$_stack_sp]=$_b;L489:$_stack[++$_stack_sp]=NULL;L490:$_stack[++$_stack_sp]=$_env;L491:$_env=array();L492:$_stack[++$_stack_sp]=494;L493:goto L562;L494:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L495:$_env["first"]=$_value;L496:$_stack[$_stack_sp]=$_value;L497:if($_fail){goto L528;}L498:$_stack[++$_stack_sp]=$_p;L499:$_stack[++$_stack_sp]=array();L500:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L501:$_stack[++$_stack_sp]=$_b;L502:$_stack[++$_stack_sp]=NULL;L503:$_stack[++$_stack_sp]=$_env;L504:$_env=array();L505:$_stack[++$_stack_sp]=507;L506:goto L1577;L507:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L508:$_stack[$_stack_sp]=$_value;L509:if($_fail){goto L516;}L510:$_stack[++$_stack_sp]=$_env;L511:$_env=array();L512:$_stack[++$_stack_sp]=514;L513:goto L562;L514:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L515:$_env["next"]=$_value;L516:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L517:if($_fail){goto L519;}L518:$_value=$this->_17($_env);L519:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L520:if($_fail){goto L524;}L521:$_stack[$_stack_sp][]=$_value;L522:$_stack[$_stack_sp-1]=$_p;L523:goto L500;L524:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L525:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L526:$_fail=false;L527:$_env["rest"]=$_value;L528:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L529:if($_fail){goto L531;}L530:$_value=$this->_16($_env);L531:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L532:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L533:$_env["expressions"]=$_value;L534:$_stack[$_stack_sp]=$_value;L535:if($_fail){goto L548;}L536:$_stack[++$_stack_sp]=538;L537:goto L1483;L538:if($_fail){goto L548;}L539:$_stack[++$_stack_sp]=$_p;L540:$_stack[++$_stack_sp]=542;L541:goto L1318;L542:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L543:if(!$_fail){goto L547;}L544:$_fail=false;L545:$_value=NULL;L546:$_p=$_a;L547:$_env["action"]=$_value;L548:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L549:if($_fail){goto L551;}L550:$_value=$this->_15($_env);L551:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L552:unset($this->_environment_stack[$this->_environment_stack_sp--]);L553:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L554:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L555:$_b=array();L556:$_b[0]=$_fail;L557:$_b[1]=$_value;L558:$_b[2]=$_p;L559:$_cache[$_a]=$_b;L560:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L561:if($_a===409){goto L409;}else if($_a===437){goto L437;}else{return array(FALSE,NULL,4);}L562:$_stack[++$_stack_sp]="5@";L563:$_stack[$_stack_sp].=$_p;L564:if(!isset($_cache[$_stack[$_stack_sp]])){goto L571;}L565:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L566:$_b=$_cache[$_a];L567:$_fail=$_b[0];L568:$_value=$_b[1];L569:$_p=$_b[2];L570:goto L665;L571:$_stack[++$_stack_sp]=$_env;L572:$_env=array();L573:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L574:$_stack[++$_stack_sp]=$_p;L575:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L576:$_stack[++$_stack_sp]=$_b;L577:$_stack[++$_stack_sp]=NULL;L578:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="&"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"&"',$_expected)){$_expected[]='"&"';}}}L579:$_stack[$_stack_sp]=$_value;L580:if($_fail){goto L584;}L581:$_stack[++$_stack_sp]=583;L582:goto L667;L583:$_env["expression"]=$_value;L584:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L585:if($_fail){goto L587;}L586:$_value=$this->_18($_env);L587:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L588:if(!$_fail){goto L656;}L589:$_p=$_stack[$_stack_sp];L590:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L591:$_stack[++$_stack_sp]=$_b;L592:$_stack[++$_stack_sp]=NULL;L593:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="!"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"!"',$_expected)){$_expected[]='"!"';}}}L594:$_stack[$_stack_sp]=$_value;L595:if($_fail){goto L599;}L596:$_stack[++$_stack_sp]=598;L597:goto L667;L598:$_env["expression"]=$_value;L599:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L600:if($_fail){goto L602;}L601:$_value=$this->_19($_env);L602:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L603:if(!$_fail){goto L656;}L604:$_p=$_stack[$_stack_sp];L605:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L606:$_stack[++$_stack_sp]=$_b;L607:$_stack[++$_stack_sp]=NULL;L608:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="?"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"?"',$_expected)){$_expected[]='"?"';}}}L609:$_stack[$_stack_sp]=$_value;L610:if($_fail){goto L614;}L611:$_stack[++$_stack_sp]=613;L612:goto L1318;L613:$_env["code"]=$_value;L614:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L615:if($_fail){goto L617;}L616:$_value=$this->_20($_env);L617:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L618:if(!$_fail){goto L656;}L619:$_p=$_stack[$_stack_sp];L620:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L621:$_stack[++$_stack_sp]=$_b;L622:$_stack[++$_stack_sp]=NULL;L623:$_stack[++$_stack_sp]=625;L624:goto L1280;L625:$_env["varname"]=$_value;L626:$_stack[$_stack_sp]=$_value;L627:if($_fail){goto L629;}L628:$_fail=TRUE;if(($_a=substr($_s,$_p,2))===":^"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('":^"',$_expected)){$_expected[]='":^"';}}}L629:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L630:if($_fail){goto L632;}L631:$_value=$this->_21($_env);L632:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L633:if(!$_fail){goto L656;}L634:$_p=$_stack[$_stack_sp];L635:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L636:$_stack[++$_stack_sp]=$_b;L637:$_stack[++$_stack_sp]=NULL;L638:$_stack[++$_stack_sp]=640;L639:goto L1280;L640:$_env["varname"]=$_value;L641:$_stack[$_stack_sp]=$_value;L642:if($_fail){goto L648;}L643:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])===":"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('":"',$_expected)){$_expected[]='":"';}}}L644:if($_fail){goto L648;}L645:$_stack[++$_stack_sp]=647;L646:goto L667;L647:$_env["expression"]=$_value;L648:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L649:if($_fail){goto L651;}L650:$_value=$this->_22($_env);L651:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L652:if(!$_fail){goto L656;}L653:$_p=$_stack[$_stack_sp];L654:$_stack[++$_stack_sp]=656;L655:goto L667;L656:unset($_stack[$_stack_sp--]);L657:unset($this->_environment_stack[$this->_environment_stack_sp--]);L658:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L659:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L660:$_b=array();L661:$_b[0]=$_fail;L662:$_b[1]=$_value;L663:$_b[2]=$_p;L664:$_cache[$_a]=$_b;L665:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L666:if($_a===494){goto L494;}else if($_a===514){goto L514;}else{return array(FALSE,NULL,5);}L667:$_stack[++$_stack_sp]="6@";L668:$_stack[$_stack_sp].=$_p;L669:if(!isset($_cache[$_stack[$_stack_sp]])){goto L676;}L670:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L671:$_b=$_cache[$_a];L672:$_fail=$_b[0];L673:$_value=$_b[1];L674:$_p=$_b[2];L675:goto L730;L676:$_stack[++$_stack_sp]=$_env;L677:$_env=array();L678:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L679:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L680:$_stack[++$_stack_sp]=$_b;L681:$_stack[++$_stack_sp]=NULL;L682:$_stack[++$_stack_sp]=684;L683:goto L732;L684:$_env["expression"]=$_value;L685:$_stack[$_stack_sp]=$_value;L686:if($_fail){goto L718;}L687:$_stack[++$_stack_sp]=$_p;L688:$_stack[++$_stack_sp]=$_p;L689:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L690:$_stack[++$_stack_sp]=$_b;L691:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="?"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"?"',$_expected)){$_expected[]='"?"';}}}L692:if($_fail){goto L694;}L693:$_value=$this->_24($_env);L694:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L695:if(!$_fail){goto L711;}L696:$_p=$_stack[$_stack_sp];L697:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L698:$_stack[++$_stack_sp]=$_b;L699:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="*"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"*"',$_expected)){$_expected[]='"*"';}}}L700:if($_fail){goto L702;}L701:$_value=$this->_25($_env);L702:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L703:if(!$_fail){goto L711;}L704:$_p=$_stack[$_stack_sp];L705:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L706:$_stack[++$_stack_sp]=$_b;L707:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="+"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"+"',$_expected)){$_expected[]='"+"';}}}L708:if($_fail){goto L710;}L709:$_value=$this->_26($_env);L710:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L711:unset($_stack[$_stack_sp--]);L712:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L713:if(!$_fail){goto L717;}L714:$_fail=false;L715:$_value=NULL;L716:$_p=$_a;L717:$_env["suffix"]=$_value;L718:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L719:if($_fail){goto L721;}L720:$_value=$this->_23($_env);L721:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L722:unset($this->_environment_stack[$this->_environment_stack_sp--]);L723:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L724:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L725:$_b=array();L726:$_b[0]=$_fail;L727:$_b[1]=$_value;L728:$_b[2]=$_p;L729:$_cache[$_a]=$_b;L730:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L731:if($_a===583){goto L583;}else if($_a===598){goto L598;}else if($_a===647){goto L647;}else if($_a===656){goto L656;}else{return array(FALSE,NULL,6);}L732:$_stack[++$_stack_sp]="7@";L733:$_stack[$_stack_sp].=$_p;L734:if(!isset($_cache[$_stack[$_stack_sp]])){goto L741;}L735:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L736:$_b=$_cache[$_a];L737:$_fail=$_b[0];L738:$_value=$_b[1];L739:$_p=$_b[2];L740:goto L974;L741:$_stack[++$_stack_sp]=$_env;L742:$_env=array();L743:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L744:$_stack[++$_stack_sp]=$_p;L745:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L746:$_stack[++$_stack_sp]=$_b;L747:$_stack[++$_stack_sp]=NULL;L748:$_stack[++$_stack_sp]=$_p;L749:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L750:$_stack[++$_stack_sp]=$_b;L751:$_stack[++$_stack_sp]=NULL;L752:$_stack[++$_stack_sp]=754;L753:goto L1280;L754:$_env["name"]=$_value;L755:$_stack[$_stack_sp]=$_value;L756:if($_fail){goto L758;}L757:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="."){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"."',$_expected)){$_expected[]='"."';}}}L758:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L759:if($_fail){goto L761;}L760:$_value=$this->_28($_env);L761:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L762:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L763:if(!$_fail){goto L767;}L764:$_fail=false;L765:$_value=NULL;L766:$_p=$_a;L767:$_env["importname"]=$_value;L768:$_stack[$_stack_sp]=$_value;L769:if($_fail){goto L859;}L770:$_stack[++$_stack_sp]=772;L771:goto L1280;L772:$_env["macroname"]=$_value;L773:if($_fail){goto L859;}L774:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="("){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"("',$_expected)){$_expected[]='"("';}}}L775:if($_fail){goto L859;}L776:$_stack[++$_stack_sp]=778;L777:goto L1483;L778:if($_fail){goto L859;}L779:$_stack[++$_stack_sp]=$_p;L780:$_stack[++$_stack_sp]=$_env;L781:$_env=array();L782:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L783:$_stack[++$_stack_sp]=$_b;L784:$_stack[++$_stack_sp]=NULL;L785:$_stack[++$_stack_sp]=$_env;L786:$_env=array();L787:$_stack[++$_stack_sp]=789;L788:goto L386;L789:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L790:$_env["first"]=$_value;L791:$_stack[$_stack_sp]=$_value;L792:if($_fail){goto L831;}L793:$_stack[++$_stack_sp]=$_p;L794:$_stack[++$_stack_sp]=array();L795:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L796:$_stack[++$_stack_sp]=$_b;L797:$_stack[++$_stack_sp]=NULL;L798:$_stack[++$_stack_sp]=$_env;L799:$_env=array();L800:$_stack[++$_stack_sp]=NULL;L801:$_stack[++$_stack_sp]=803;L802:goto L1483;L803:$_stack[$_stack_sp]=$_value;L804:if($_fail){goto L809;}L805:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])===","){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('","',$_expected)){$_expected[]='","';}}}L806:if($_fail){goto L809;}L807:$_stack[++$_stack_sp]=809;L808:goto L1483;L809:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L810:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L811:$_stack[$_stack_sp]=$_value;L812:if($_fail){goto L819;}L813:$_stack[++$_stack_sp]=$_env;L814:$_env=array();L815:$_stack[++$_stack_sp]=817;L816:goto L386;L817:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L818:$_env["next"]=$_value;L819:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L820:if($_fail){goto L822;}L821:$_value=$this->_30($_env);L822:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L823:if($_fail){goto L827;}L824:$_stack[$_stack_sp][]=$_value;L825:$_stack[$_stack_sp-1]=$_p;L826:goto L795;L827:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L828:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L829:$_fail=false;L830:$_env["rest"]=$_value;L831:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L832:if($_fail){goto L834;}L833:$_value=$this->_29($_env);L834:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L835:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L836:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L837:if(!$_fail){goto L841;}L838:$_fail=false;L839:$_value=NULL;L840:$_p=$_a;L841:$_env["arguments"]=$_value;L842:if($_fail){goto L859;}L843:$_stack[++$_stack_sp]=845;L844:goto L1483;L845:if($_fail){goto L859;}L846:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])===")"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('")"',$_expected)){$_expected[]='")"';}}}L847:if($_fail){goto L859;}L848:$_stack[++$_stack_sp]=$_p;L849:$_stack[++$_stack_sp]=NULL;L850:$_stack[++$_stack_sp]=852;L851:goto L1483;L852:$_stack[$_stack_sp]=$_value;L853:if($_fail){goto L855;}L854:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="="){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"="',$_expected)){$_expected[]='"="';}}}L855:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L856:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L857:$_value=NULL;L858:$_fail=!$_fail;L859:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L860:if($_fail){goto L862;}L861:$_value=$this->_27($_env);L862:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L863:if(!$_fail){goto L965;}L864:$_p=$_stack[$_stack_sp];L865:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L866:$_stack[++$_stack_sp]=$_b;L867:$_stack[++$_stack_sp]=NULL;L868:$_stack[++$_stack_sp]=$_p;L869:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L870:$_stack[++$_stack_sp]=$_b;L871:$_stack[++$_stack_sp]=NULL;L872:$_stack[++$_stack_sp]=874;L873:goto L1280;L874:$_env["name"]=$_value;L875:$_stack[$_stack_sp]=$_value;L876:if($_fail){goto L878;}L877:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="."){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"."',$_expected)){$_expected[]='"."';}}}L878:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L879:if($_fail){goto L881;}L880:$_value=$this->_32($_env);L881:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L882:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L883:if(!$_fail){goto L887;}L884:$_fail=false;L885:$_value=NULL;L886:$_p=$_a;L887:$_env["importname"]=$_value;L888:$_stack[$_stack_sp]=$_value;L889:if($_fail){goto L910;}L890:$_stack[++$_stack_sp]=892;L891:goto L1280;L892:$_env["rulename"]=$_value;L893:if($_fail){goto L910;}L894:$_stack[++$_stack_sp]=$_p;L895:$_stack[++$_stack_sp]=$_p;L896:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="("){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"("',$_expected)){$_expected[]='"("';}}}L897:if(!$_fail){goto L906;}L898:$_p=$_stack[$_stack_sp];L899:$_stack[++$_stack_sp]=NULL;L900:$_stack[++$_stack_sp]=902;L901:goto L1483;L902:$_stack[$_stack_sp]=$_value;L903:if($_fail){goto L905;}L904:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="="){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"="',$_expected)){$_expected[]='"="';}}}L905:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L906:unset($_stack[$_stack_sp--]);L907:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L908:$_value=NULL;L909:$_fail=!$_fail;L910:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L911:if($_fail){goto L913;}L912:$_value=$this->_31($_env);L913:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L914:if(!$_fail){goto L965;}L915:$_p=$_stack[$_stack_sp];L916:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L917:$_stack[++$_stack_sp]=$_b;L918:$_stack[++$_stack_sp]=NULL;L919:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="("){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"("',$_expected)){$_expected[]='"("';}}}L920:$_stack[$_stack_sp]=$_value;L921:if($_fail){goto L933;}L922:$_stack[++$_stack_sp]=924;L923:goto L1483;L924:if($_fail){goto L933;}L925:$_stack[++$_stack_sp]=927;L926:goto L386;L927:$_env["expression"]=$_value;L928:if($_fail){goto L933;}L929:$_stack[++$_stack_sp]=931;L930:goto L1483;L931:if($_fail){goto L933;}L932:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])===")"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('")"',$_expected)){$_expected[]='")"';}}}L933:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L934:if($_fail){goto L936;}L935:$_value=$this->_33($_env);L936:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L937:if(!$_fail){goto L965;}L938:$_p=$_stack[$_stack_sp];L939:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L940:$_stack[++$_stack_sp]=$_b;L941:$_stack[++$_stack_sp]=943;L942:goto L1074;L943:$_env["literal"]=$_value;L944:if($_fail){goto L946;}L945:$_value=$this->_34($_env);L946:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L947:if(!$_fail){goto L965;}L948:$_p=$_stack[$_stack_sp];L949:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L950:$_stack[++$_stack_sp]=$_b;L951:$_stack[++$_stack_sp]=953;L952:goto L976;L953:$_env["range"]=$_value;L954:if($_fail){goto L956;}L955:$_value=$this->_35($_env);L956:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L957:if(!$_fail){goto L965;}L958:$_p=$_stack[$_stack_sp];L959:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L960:$_stack[++$_stack_sp]=$_b;L961:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="."){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"."',$_expected)){$_expected[]='"."';}}}L962:if($_fail){goto L964;}L963:$_value=$this->_36($_env);L964:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L965:unset($_stack[$_stack_sp--]);L966:unset($this->_environment_stack[$this->_environment_stack_sp--]);L967:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L968:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L969:$_b=array();L970:$_b[0]=$_fail;L971:$_b[1]=$_value;L972:$_b[2]=$_p;L973:$_cache[$_a]=$_b;L974:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L975:if($_a!==684)return array(FALSE,NULL,7);goto L684;L976:$_stack[++$_stack_sp]="8@";L977:$_stack[$_stack_sp].=$_p;L978:if(!isset($_cache[$_stack[$_stack_sp]])){goto L985;}L979:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L980:$_b=$_cache[$_a];L981:$_fail=$_b[0];L982:$_value=$_b[1];L983:$_p=$_b[2];L984:goto L1072;L985:$_stack[++$_stack_sp]=$_env;L986:$_env=array();L987:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L988:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L989:$_stack[++$_stack_sp]=$_b;L990:$_stack[++$_stack_sp]=NULL;L991:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="["){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"["',$_expected)){$_expected[]='"["';}}}L992:$_stack[$_stack_sp]=$_value;L993:if($_fail){goto L1060;}L994:$_stack[++$_stack_sp]=$_p;L995:$_stack[++$_stack_sp]=array();L996:$_stack[++$_stack_sp]=true;L997:$_stack[++$_stack_sp]=$_p;L998:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L999:$_stack[++$_stack_sp]=$_b;L1000:$_stack[++$_stack_sp]=NULL;L1001:$_stack[++$_stack_sp]=$_p;L1002:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="]"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"]"',$_expected)){$_expected[]='"]"';}}}L1003:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1004:$_value=NULL;L1005:$_fail=!$_fail;L1006:if($_fail){goto L1023;}L1007:$_stack[++$_stack_sp]=1009;L1008:goto L1166;L1009:$_env["a"]=$_value;L1010:$_stack[$_stack_sp]=$_value;L1011:if($_fail){goto L1023;}L1012:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="-"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"-"',$_expected)){$_expected[]='"-"';}}}L1013:if($_fail){goto L1023;}L1014:$_stack[++$_stack_sp]=$_p;L1015:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="]"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"]"',$_expected)){$_expected[]='"]"';}}}L1016:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1017:$_value=NULL;L1018:$_fail=!$_fail;L1019:if($_fail){goto L1023;}L1020:$_stack[++$_stack_sp]=1022;L1021:goto L1166;L1022:$_env["b"]=$_value;L1023:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1024:if($_fail){goto L1026;}L1025:$_value=$this->_38($_env);L1026:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1027:if(!$_fail){goto L1046;}L1028:$_p=$_stack[$_stack_sp];L1029:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1030:$_stack[++$_stack_sp]=$_b;L1031:$_stack[++$_stack_sp]=NULL;L1032:$_stack[++$_stack_sp]=$_p;L1033:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="]"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"]"',$_expected)){$_expected[]='"]"';}}}L1034:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1035:$_value=NULL;L1036:$_fail=!$_fail;L1037:if($_fail){goto L1042;}L1038:$_stack[++$_stack_sp]=1040;L1039:goto L1166;L1040:$_env["c"]=$_value;L1041:$_stack[$_stack_sp]=$_value;L1042:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1043:if($_fail){goto L1045;}L1044:$_value=$this->_39($_env);L1045:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1046:unset($_stack[$_stack_sp--]);L1047:if($_fail){goto L1052;}L1048:$_stack[$_stack_sp]=false;L1049:$_stack[$_stack_sp-1][]=$_value;L1050:$_stack[$_stack_sp-2]=$_p;L1051:goto L997;L1052:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1053:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1054:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1055:if($_a){goto L1057;}L1056:$_fail=false;L1057:$_env["matches"]=$_value;L1058:if($_fail){goto L1060;}L1059:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="]"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"]"',$_expected)){$_expected[]='"]"';}}}L1060:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1061:if($_fail){goto L1063;}L1062:$_value=$this->_37($_env);L1063:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1064:unset($this->_environment_stack[$this->_environment_stack_sp--]);L1065:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1066:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1067:$_b=array();L1068:$_b[0]=$_fail;L1069:$_b[1]=$_value;L1070:$_b[2]=$_p;L1071:$_cache[$_a]=$_b;L1072:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1073:if($_a!==953)return array(FALSE,NULL,8);goto L953;L1074:$_stack[++$_stack_sp]="9@";L1075:$_stack[$_stack_sp].=$_p;L1076:if(!isset($_cache[$_stack[$_stack_sp]])){goto L1083;}L1077:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1078:$_b=$_cache[$_a];L1079:$_fail=$_b[0];L1080:$_value=$_b[1];L1081:$_p=$_b[2];L1082:goto L1164;L1083:$_stack[++$_stack_sp]=$_env;L1084:$_env=array();L1085:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L1086:$_stack[++$_stack_sp]=$_p;L1087:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1088:$_stack[++$_stack_sp]=$_b;L1089:$_stack[++$_stack_sp]=NULL;L1090:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===34))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[\\"]',$_expected)){$_expected[]='[\\"]';}}}L1091:$_stack[$_stack_sp]=$_value;L1092:if($_fail){goto L1116;}L1093:$_stack[++$_stack_sp]=$_p;L1094:$_stack[++$_stack_sp]=array();L1095:$_stack[++$_stack_sp]=NULL;L1096:$_stack[++$_stack_sp]=$_p;L1097:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===34))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[\\"]',$_expected)){$_expected[]='[\\"]';}}}L1098:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1099:$_value=NULL;L1100:$_fail=!$_fail;L1101:if($_fail){goto L1105;}L1102:$_stack[++$_stack_sp]=1104;L1103:goto L1166;L1104:$_stack[$_stack_sp]=$_value;L1105:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1106:if($_fail){goto L1110;}L1107:$_stack[$_stack_sp][]=$_value;L1108:$_stack[$_stack_sp-1]=$_p;L1109:goto L1095;L1110:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1111:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1112:$_fail=false;L1113:$_env["value"]=$_value;L1114:if($_fail){goto L1116;}L1115:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===34))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[\\"]',$_expected)){$_expected[]='[\\"]';}}}L1116:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1117:if($_fail){goto L1119;}L1118:$_value=$this->_40($_env);L1119:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1120:if(!$_fail){goto L1155;}L1121:$_p=$_stack[$_stack_sp];L1122:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1123:$_stack[++$_stack_sp]=$_b;L1124:$_stack[++$_stack_sp]=NULL;L1125:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===39))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[\\\']',$_expected)){$_expected[]='[\\\']';}}}L1126:$_stack[$_stack_sp]=$_value;L1127:if($_fail){goto L1151;}L1128:$_stack[++$_stack_sp]=$_p;L1129:$_stack[++$_stack_sp]=array();L1130:$_stack[++$_stack_sp]=NULL;L1131:$_stack[++$_stack_sp]=$_p;L1132:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===39))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[\\\']',$_expected)){$_expected[]='[\\\']';}}}L1133:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1134:$_value=NULL;L1135:$_fail=!$_fail;L1136:if($_fail){goto L1140;}L1137:$_stack[++$_stack_sp]=1139;L1138:goto L1166;L1139:$_stack[$_stack_sp]=$_value;L1140:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1141:if($_fail){goto L1145;}L1142:$_stack[$_stack_sp][]=$_value;L1143:$_stack[$_stack_sp-1]=$_p;L1144:goto L1130;L1145:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1146:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1147:$_fail=false;L1148:$_env["value"]=$_value;L1149:if($_fail){goto L1151;}L1150:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===39))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[\\\']',$_expected)){$_expected[]='[\\\']';}}}L1151:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1152:if($_fail){goto L1154;}L1153:$_value=$this->_41($_env);L1154:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1155:unset($_stack[$_stack_sp--]);L1156:unset($this->_environment_stack[$this->_environment_stack_sp--]);L1157:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1158:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1159:$_b=array();L1160:$_b[0]=$_fail;L1161:$_b[1]=$_value;L1162:$_b[2]=$_p;L1163:$_cache[$_a]=$_b;L1164:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1165:if($_a===226){goto L226;}else if($_a===943){goto L943;}else{return array(FALSE,NULL,9);}L1166:$_stack[++$_stack_sp]="10@";L1167:$_stack[$_stack_sp].=$_p;L1168:if(!isset($_cache[$_stack[$_stack_sp]])){goto L1175;}L1169:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1170:$_b=$_cache[$_a];L1171:$_fail=$_b[0];L1172:$_value=$_b[1];L1173:$_p=$_b[2];L1174:goto L1278;L1175:$_stack[++$_stack_sp]=$_env;L1176:$_env=array();L1177:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L1178:$_stack[++$_stack_sp]=$_p;L1179:$_stack[++$_stack_sp]="";L1180:$_stack[++$_stack_sp]=$_p;L1181:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="\\"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\"',$_expected)){$_expected[]='"\\\\"';}}}L1182:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1183:$_value=NULL;L1184:$_fail=!$_fail;L1185:$_stack[$_stack_sp].=$_value;L1186:if($_fail){goto L1189;}L1187:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L1188:$_stack[$_stack_sp].=$_value;L1189:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1190:if(!$_fail){goto L1269;}L1191:$_p=$_stack[$_stack_sp];L1192:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1193:$_stack[++$_stack_sp]=$_b;L1194:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="\\n"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\n"',$_expected)){$_expected[]='"\\\\n"';}}}L1195:if($_fail){goto L1197;}L1196:$_value=$this->_42($_env);L1197:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1198:if(!$_fail){goto L1269;}L1199:$_p=$_stack[$_stack_sp];L1200:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1201:$_stack[++$_stack_sp]=$_b;L1202:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="\\r"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\r"',$_expected)){$_expected[]='"\\\\r"';}}}L1203:if($_fail){goto L1205;}L1204:$_value=$this->_43($_env);L1205:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1206:if(!$_fail){goto L1269;}L1207:$_p=$_stack[$_stack_sp];L1208:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1209:$_stack[++$_stack_sp]=$_b;L1210:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="\\t"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\t"',$_expected)){$_expected[]='"\\\\t"';}}}L1211:if($_fail){goto L1213;}L1212:$_value=$this->_44($_env);L1213:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1214:if(!$_fail){goto L1269;}L1215:$_p=$_stack[$_stack_sp];L1216:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1217:$_stack[++$_stack_sp]=$_b;L1218:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="\\\\"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\\\\\"',$_expected)){$_expected[]='"\\\\\\\\"';}}}L1219:if($_fail){goto L1221;}L1220:$_value=$this->_45($_env);L1221:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1222:if(!$_fail){goto L1269;}L1223:$_p=$_stack[$_stack_sp];L1224:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1225:$_stack[++$_stack_sp]=$_b;L1226:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="\\\""){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\\\""',$_expected)){$_expected[]='"\\\\\\""';}}}L1227:if($_fail){goto L1229;}L1228:$_value=$this->_46($_env);L1229:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1230:if(!$_fail){goto L1269;}L1231:$_p=$_stack[$_stack_sp];L1232:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1233:$_stack[++$_stack_sp]=$_b;L1234:$_stack[++$_stack_sp]="";L1235:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="\\"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\"',$_expected)){$_expected[]='"\\\\"';}}}L1236:$_stack[$_stack_sp].=$_value;L1237:if($_fail){goto L1240;}L1238:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===39))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[\\\']',$_expected)){$_expected[]='[\\\']';}}}L1239:$_stack[$_stack_sp].=$_value;L1240:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1241:if($_fail){goto L1243;}L1242:$_value=$this->_47($_env);L1243:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1244:if(!$_fail){goto L1269;}L1245:$_p=$_stack[$_stack_sp];L1246:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1247:$_stack[++$_stack_sp]=$_b;L1248:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="\\]"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\]"',$_expected)){$_expected[]='"\\\\]"';}}}L1249:if($_fail){goto L1251;}L1250:$_value=$this->_48($_env);L1251:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1252:if(!$_fail){goto L1269;}L1253:$_p=$_stack[$_stack_sp];L1254:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1255:$_stack[++$_stack_sp]=$_b;L1256:$_stack[++$_stack_sp]=NULL;L1257:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="\\x"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\x"',$_expected)){$_expected[]='"\\\\x"';}}}L1258:$_stack[$_stack_sp]=$_value;L1259:if($_fail){goto L1265;}L1260:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&((48<=$_a&&$_a<=57)||(97<=$_a&&$_a<=102)||(65<=$_a&&$_a<=70))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[0-9a-fA-F]',$_expected)){$_expected[]='[0-9a-fA-F]';}}}L1261:$_env["a"]=$_value;L1262:if($_fail){goto L1265;}L1263:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&((48<=$_a&&$_a<=57)||(97<=$_a&&$_a<=102)||(65<=$_a&&$_a<=70))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[0-9a-fA-F]',$_expected)){$_expected[]='[0-9a-fA-F]';}}}L1264:$_env["b"]=$_value;L1265:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1266:if($_fail){goto L1268;}L1267:$_value=$this->_49($_env);L1268:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1269:unset($_stack[$_stack_sp--]);L1270:unset($this->_environment_stack[$this->_environment_stack_sp--]);L1271:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1272:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1273:$_b=array();L1274:$_b[0]=$_fail;L1275:$_b[1]=$_value;L1276:$_b[2]=$_p;L1277:$_cache[$_a]=$_b;L1278:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1279:if($_a===1009){goto L1009;}else if($_a===1022){goto L1022;}else if($_a===1040){goto L1040;}else if($_a===1104){goto L1104;}else if($_a===1139){goto L1139;}else{return array(FALSE,NULL,10);}L1280:$_stack[++$_stack_sp]="11@";L1281:$_stack[$_stack_sp].=$_p;L1282:if(!isset($_cache[$_stack[$_stack_sp]])){goto L1289;}L1283:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1284:$_b=$_cache[$_a];L1285:$_fail=$_b[0];L1286:$_value=$_b[1];L1287:$_p=$_b[2];L1288:goto L1316;L1289:$_stack[++$_stack_sp]=$_env;L1290:$_env=array();L1291:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L1292:$_stack[++$_stack_sp]="";L1293:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&((97<=$_a&&$_a<=122)||(65<=$_a&&$_a<=90)||($_a===95))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[a-zA-Z_]',$_expected)){$_expected[]='[a-zA-Z_]';}}}L1294:$_stack[$_stack_sp].=$_value;L1295:if($_fail){goto L1307;}L1296:$_stack[++$_stack_sp]=$_p;L1297:$_stack[++$_stack_sp]="";L1298:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&((97<=$_a&&$_a<=122)||(65<=$_a&&$_a<=90)||(48<=$_a&&$_a<=57)||($_a===95))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[a-zA-Z0-9_]',$_expected)){$_expected[]='[a-zA-Z0-9_]';}}}L1299:if($_fail){goto L1303;}L1300:$_stack[$_stack_sp].=$_value;L1301:$_stack[$_stack_sp-1]=$_p;L1302:goto L1298;L1303:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1304:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1305:$_fail=false;L1306:$_stack[$_stack_sp].=$_value;L1307:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1308:unset($this->_environment_stack[$this->_environment_stack_sp--]);L1309:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1310:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1311:$_b=array();L1312:$_b[0]=$_fail;L1313:$_b[1]=$_value;L1314:$_b[2]=$_p;L1315:$_cache[$_a]=$_b;L1316:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1317:if($_a===52){goto L52;}else if($_a===72){goto L72;}else if($_a===112){goto L112;}else if($_a===207){goto L207;}else if($_a===303){goto L303;}else if($_a===355){goto L355;}else if($_a===625){goto L625;}else if($_a===640){goto L640;}else if($_a===754){goto L754;}else if($_a===772){goto L772;}else if($_a===874){goto L874;}else if($_a===892){goto L892;}else if($_a===1748){goto L1748;}else if($_a===1776){goto L1776;}else{return array(FALSE,NULL,11);}L1318:$_stack[++$_stack_sp]="12@";L1319:$_stack[$_stack_sp].=$_p;L1320:if(!isset($_cache[$_stack[$_stack_sp]])){goto L1327;}L1321:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1322:$_b=$_cache[$_a];L1323:$_fail=$_b[0];L1324:$_value=$_b[1];L1325:$_p=$_b[2];L1326:goto L1403;L1327:$_stack[++$_stack_sp]=$_env;L1328:$_env=array();L1329:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L1330:$_stack[++$_stack_sp]=$_p;L1331:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1332:$_stack[++$_stack_sp]=$_b;L1333:$_stack[++$_stack_sp]=NULL;L1334:$_stack[++$_stack_sp]=$_p;L1335:$_stack[++$_stack_sp]=NULL;L1336:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="->"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"->"',$_expected)){$_expected[]='"->"';}}}L1337:$_stack[$_stack_sp]=$_value;L1338:if($_fail){goto L1341;}L1339:$_stack[++$_stack_sp]=1341;L1340:goto L1483;L1341:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1342:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1343:if(!$_fail){goto L1347;}L1344:$_fail=false;L1345:$_value=NULL;L1346:$_p=$_a;L1347:$_stack[$_stack_sp]=$_value;L1348:if($_fail){goto L1356;}L1349:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="{"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"{"',$_expected)){$_expected[]='"{"';}}}L1350:if($_fail){goto L1356;}L1351:$_stack[++$_stack_sp]=1353;L1352:goto L1405;L1353:$_env["code"]=$_value;L1354:if($_fail){goto L1356;}L1355:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="}"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"}"',$_expected)){$_expected[]='"}"';}}}L1356:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1357:if($_fail){goto L1359;}L1358:$_value=$this->_50($_env);L1359:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1360:if(!$_fail){goto L1394;}L1361:$_p=$_stack[$_stack_sp];L1362:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1363:$_stack[++$_stack_sp]=$_b;L1364:$_stack[++$_stack_sp]=NULL;L1365:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="->"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"->"',$_expected)){$_expected[]='"->"';}}}L1366:$_stack[$_stack_sp]=$_value;L1367:if($_fail){goto L1390;}L1368:$_stack[++$_stack_sp]=$_p;L1369:$_stack[++$_stack_sp]="";L1370:$_stack[++$_stack_sp]="";L1371:$_stack[++$_stack_sp]=$_p;L1372:$_stack[++$_stack_sp]=1374;L1373:goto L1677;L1374:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1375:$_value=NULL;L1376:$_fail=!$_fail;L1377:$_stack[$_stack_sp].=$_value;L1378:if($_fail){goto L1381;}L1379:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L1380:$_stack[$_stack_sp].=$_value;L1381:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1382:if($_fail){goto L1386;}L1383:$_stack[$_stack_sp].=$_value;L1384:$_stack[$_stack_sp-1]=$_p;L1385:goto L1370;L1386:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1387:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1388:$_fail=false;L1389:$_env["code"]=$_value;L1390:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1391:if($_fail){goto L1393;}L1392:$_value=$this->_51($_env);L1393:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1394:unset($_stack[$_stack_sp--]);L1395:unset($this->_environment_stack[$this->_environment_stack_sp--]);L1396:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1397:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1398:$_b=array();L1399:$_b[0]=$_fail;L1400:$_b[1]=$_value;L1401:$_b[2]=$_p;L1402:$_cache[$_a]=$_b;L1403:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1404:if($_a===133){goto L133;}else if($_a===167){goto L167;}else if($_a===542){goto L542;}else if($_a===613){goto L613;}else{return array(FALSE,NULL,12);}L1405:$_stack[++$_stack_sp]="13@";L1406:$_stack[$_stack_sp].=$_p;L1407:if(!isset($_cache[$_stack[$_stack_sp]])){goto L1414;}L1408:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1409:$_b=$_cache[$_a];L1410:$_fail=$_b[0];L1411:$_value=$_b[1];L1412:$_p=$_b[2];L1413:goto L1481;L1414:$_stack[++$_stack_sp]=$_env;L1415:$_env=array();L1416:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L1417:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1418:$_stack[++$_stack_sp]=$_b;L1419:$_stack[++$_stack_sp]=$_p;L1420:$_stack[++$_stack_sp]=array();L1421:$_stack[++$_stack_sp]=$_p;L1422:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1423:$_stack[++$_stack_sp]=$_b;L1424:$_stack[++$_stack_sp]=NULL;L1425:$_stack[++$_stack_sp]=$_p;L1426:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="{"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"{"',$_expected)){$_expected[]='"{"';}}}L1427:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1428:$_value=NULL;L1429:$_fail=!$_fail;L1430:if($_fail){goto L1440;}L1431:$_stack[++$_stack_sp]=$_p;L1432:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="}"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"}"',$_expected)){$_expected[]='"}"';}}}L1433:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1434:$_value=NULL;L1435:$_fail=!$_fail;L1436:if($_fail){goto L1440;}L1437:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L1438:$_env["c"]=$_value;L1439:$_stack[$_stack_sp]=$_value;L1440:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1441:if($_fail){goto L1443;}L1442:$_value=$this->_53($_env);L1443:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1444:if(!$_fail){goto L1461;}L1445:$_p=$_stack[$_stack_sp];L1446:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1447:$_stack[++$_stack_sp]=$_b;L1448:$_stack[++$_stack_sp]=NULL;L1449:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="{"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"{"',$_expected)){$_expected[]='"{"';}}}L1450:$_stack[$_stack_sp]=$_value;L1451:if($_fail){goto L1457;}L1452:$_stack[++$_stack_sp]=1454;L1453:goto L1405;L1454:$_env["i"]=$_value;L1455:if($_fail){goto L1457;}L1456:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="}"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"}"',$_expected)){$_expected[]='"}"';}}}L1457:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1458:if($_fail){goto L1460;}L1459:$_value=$this->_54($_env);L1460:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1461:unset($_stack[$_stack_sp--]);L1462:if($_fail){goto L1466;}L1463:$_stack[$_stack_sp][]=$_value;L1464:$_stack[$_stack_sp-1]=$_p;L1465:goto L1421;L1466:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1467:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1468:$_fail=false;L1469:$_env["inside"]=$_value;L1470:if($_fail){goto L1472;}L1471:$_value=$this->_52($_env);L1472:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1473:unset($this->_environment_stack[$this->_environment_stack_sp--]);L1474:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1475:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1476:$_b=array();L1477:$_b[0]=$_fail;L1478:$_b[1]=$_value;L1479:$_b[2]=$_p;L1480:$_cache[$_a]=$_b;L1481:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1482:if($_a===1353){goto L1353;}else if($_a===1454){goto L1454;}else{return array(FALSE,NULL,13);}L1483:$_stack[++$_stack_sp]="14@";L1484:$_stack[$_stack_sp].=$_p;L1485:if(!isset($_cache[$_stack[$_stack_sp]])){goto L1492;}L1486:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1487:$_b=$_cache[$_a];L1488:$_fail=$_b[0];L1489:$_value=$_b[1];L1490:$_p=$_b[2];L1491:goto L1575;L1492:$_stack[++$_stack_sp]=$_env;L1493:$_env=array();L1494:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L1495:$_stack[++$_stack_sp]=$_p;L1496:$_stack[++$_stack_sp]="";L1497:$_stack[++$_stack_sp]=$_p;L1498:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===32)||($_a===9)||($_a===13)||($_a===10))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[ \\t\\r\\n]',$_expected)){$_expected[]='[ \\t\\r\\n]';}}}L1499:if(!$_fail){goto L1559;}L1500:$_p=$_stack[$_stack_sp];L1501:$_stack[++$_stack_sp]="";L1502:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="//"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"//"',$_expected)){$_expected[]='"//"';}}}L1503:$_stack[$_stack_sp].=$_value;L1504:if($_fail){goto L1527;}L1505:$_stack[++$_stack_sp]=$_p;L1506:$_stack[++$_stack_sp]="";L1507:$_stack[++$_stack_sp]="";L1508:$_stack[++$_stack_sp]=$_p;L1509:$_stack[++$_stack_sp]=1511;L1510:goto L1677;L1511:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1512:$_value=NULL;L1513:$_fail=!$_fail;L1514:$_stack[$_stack_sp].=$_value;L1515:if($_fail){goto L1518;}L1516:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L1517:$_stack[$_stack_sp].=$_value;L1518:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1519:if($_fail){goto L1523;}L1520:$_stack[$_stack_sp].=$_value;L1521:$_stack[$_stack_sp-1]=$_p;L1522:goto L1507;L1523:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1524:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1525:$_fail=false;L1526:$_stack[$_stack_sp].=$_value;L1527:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1528:if(!$_fail){goto L1559;}L1529:$_p=$_stack[$_stack_sp];L1530:$_stack[++$_stack_sp]="";L1531:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="/*"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"/*"',$_expected)){$_expected[]='"/*"';}}}L1532:$_stack[$_stack_sp].=$_value;L1533:if($_fail){goto L1558;}L1534:$_stack[++$_stack_sp]=$_p;L1535:$_stack[++$_stack_sp]="";L1536:$_stack[++$_stack_sp]="";L1537:$_stack[++$_stack_sp]=$_p;L1538:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="*/"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"*/"',$_expected)){$_expected[]='"*/"';}}}L1539:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1540:$_value=NULL;L1541:$_fail=!$_fail;L1542:$_stack[$_stack_sp].=$_value;L1543:if($_fail){goto L1546;}L1544:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L1545:$_stack[$_stack_sp].=$_value;L1546:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1547:if($_fail){goto L1551;}L1548:$_stack[$_stack_sp].=$_value;L1549:$_stack[$_stack_sp-1]=$_p;L1550:goto L1536;L1551:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1552:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1553:$_fail=false;L1554:$_stack[$_stack_sp].=$_value;L1555:if($_fail){goto L1558;}L1556:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="*/"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"*/"',$_expected)){$_expected[]='"*/"';}}}L1557:$_stack[$_stack_sp].=$_value;L1558:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1559:unset($_stack[$_stack_sp--]);L1560:if($_fail){goto L1564;}L1561:$_stack[$_stack_sp].=$_value;L1562:$_stack[$_stack_sp-1]=$_p;L1563:goto L1497;L1564:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1565:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1566:$_fail=false;L1567:unset($this->_environment_stack[$this->_environment_stack_sp--]);L1568:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1569:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1570:$_b=array();L1571:$_b[0]=$_fail;L1572:$_b[1]=$_value;L1573:$_b[2]=$_p;L1574:$_cache[$_a]=$_b;L1575:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1576:if($_a===29){goto L29;}else if($_a===95){goto L95;}else if($_a===116){goto L116;}else if($_a===130){goto L130;}else if($_a===137){goto L137;}else if($_a===151){goto L151;}else if($_a===164){goto L164;}else if($_a===171){goto L171;}else if($_a===230){goto L230;}else if($_a===312){goto L312;}else if($_a===317){goto L317;}else if($_a===324){goto L324;}else if($_a===360){goto L360;}else if($_a===365){goto L365;}else if($_a===372){goto L372;}else if($_a===423){goto L423;}else if($_a===429){goto L429;}else if($_a===538){goto L538;}else if($_a===778){goto L778;}else if($_a===803){goto L803;}else if($_a===809){goto L809;}else if($_a===845){goto L845;}else if($_a===852){goto L852;}else if($_a===902){goto L902;}else if($_a===924){goto L924;}else if($_a===931){goto L931;}else if($_a===1341){goto L1341;}else if($_a===1737){goto L1737;}else if($_a===1762){goto L1762;}else if($_a===1768){goto L1768;}else if($_a===1804){goto L1804;}else{return array(FALSE,NULL,14);}L1577:$_stack[++$_stack_sp]="15@";L1578:$_stack[$_stack_sp].=$_p;L1579:if(!isset($_cache[$_stack[$_stack_sp]])){goto L1586;}L1580:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1581:$_b=$_cache[$_a];L1582:$_fail=$_b[0];L1583:$_value=$_b[1];L1584:$_p=$_b[2];L1585:goto L1675;L1586:$_stack[++$_stack_sp]=$_env;L1587:$_env=array();L1588:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L1589:$_stack[++$_stack_sp]=$_p;L1590:$_stack[++$_stack_sp]=array();L1591:$_stack[++$_stack_sp]=true;L1592:$_stack[++$_stack_sp]=$_p;L1593:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===32)||($_a===9)||($_a===13)||($_a===10))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[ \\t\\r\\n]',$_expected)){$_expected[]='[ \\t\\r\\n]';}}}L1594:if(!$_fail){goto L1656;}L1595:$_p=$_stack[$_stack_sp];L1596:$_stack[++$_stack_sp]=NULL;L1597:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="//"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"//"',$_expected)){$_expected[]='"//"';}}}L1598:$_stack[$_stack_sp]=$_value;L1599:if($_fail){goto L1624;}L1600:$_stack[++$_stack_sp]=$_p;L1601:$_stack[++$_stack_sp]="";L1602:$_stack[++$_stack_sp]="";L1603:$_stack[++$_stack_sp]=$_p;L1604:$_stack[++$_stack_sp]=1606;L1605:goto L1677;L1606:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1607:$_value=NULL;L1608:$_fail=!$_fail;L1609:$_stack[$_stack_sp].=$_value;L1610:if($_fail){goto L1613;}L1611:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L1612:$_stack[$_stack_sp].=$_value;L1613:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1614:if($_fail){goto L1618;}L1615:$_stack[$_stack_sp].=$_value;L1616:$_stack[$_stack_sp-1]=$_p;L1617:goto L1602;L1618:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1619:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1620:$_fail=false;L1621:if($_fail){goto L1624;}L1622:$_stack[++$_stack_sp]=1624;L1623:goto L1677;L1624:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1625:if(!$_fail){goto L1656;}L1626:$_p=$_stack[$_stack_sp];L1627:$_stack[++$_stack_sp]="";L1628:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="/*"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"/*"',$_expected)){$_expected[]='"/*"';}}}L1629:$_stack[$_stack_sp].=$_value;L1630:if($_fail){goto L1655;}L1631:$_stack[++$_stack_sp]=$_p;L1632:$_stack[++$_stack_sp]="";L1633:$_stack[++$_stack_sp]="";L1634:$_stack[++$_stack_sp]=$_p;L1635:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="*/"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"*/"',$_expected)){$_expected[]='"*/"';}}}L1636:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1637:$_value=NULL;L1638:$_fail=!$_fail;L1639:$_stack[$_stack_sp].=$_value;L1640:if($_fail){goto L1643;}L1641:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L1642:$_stack[$_stack_sp].=$_value;L1643:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1644:if($_fail){goto L1648;}L1645:$_stack[$_stack_sp].=$_value;L1646:$_stack[$_stack_sp-1]=$_p;L1647:goto L1633;L1648:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1649:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1650:$_fail=false;L1651:$_stack[$_stack_sp].=$_value;L1652:if($_fail){goto L1655;}L1653:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="*/"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"*/"',$_expected)){$_expected[]='"*/"';}}}L1654:$_stack[$_stack_sp].=$_value;L1655:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1656:unset($_stack[$_stack_sp--]);L1657:if($_fail){goto L1662;}L1658:$_stack[$_stack_sp]=false;L1659:$_stack[$_stack_sp-1][]=$_value;L1660:$_stack[$_stack_sp-2]=$_p;L1661:goto L1592;L1662:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1663:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1664:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1665:if($_a){goto L1667;}L1666:$_fail=false;L1667:unset($this->_environment_stack[$this->_environment_stack_sp--]);L1668:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1669:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1670:$_b=array();L1671:$_b[0]=$_fail;L1672:$_b[1]=$_value;L1673:$_b[2]=$_p;L1674:$_cache[$_a]=$_b;L1675:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1676:if($_a===42){goto L42;}else if($_a===109){goto L109;}else if($_a===185){goto L185;}else if($_a===196){goto L196;}else if($_a===212){goto L212;}else if($_a===507){goto L507;}else{return array(FALSE,NULL,15);}L1677:$_stack[++$_stack_sp]="16@";L1678:$_stack[$_stack_sp].=$_p;L1679:if(!isset($_cache[$_stack[$_stack_sp]])){goto L1686;}L1680:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1681:$_b=$_cache[$_a];L1682:$_fail=$_b[0];L1683:$_value=$_b[1];L1684:$_p=$_b[2];L1685:goto L1715;L1686:$_stack[++$_stack_sp]=$_env;L1687:$_env=array();L1688:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L1689:$_stack[++$_stack_sp]=$_p;L1690:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="\n"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\n"',$_expected)){$_expected[]='"\\n"';}}}L1691:if(!$_fail){goto L1706;}L1692:$_p=$_stack[$_stack_sp];L1693:$_stack[++$_stack_sp]="";L1694:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="\r"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\r"',$_expected)){$_expected[]='"\\r"';}}}L1695:$_stack[$_stack_sp].=$_value;L1696:if($_fail){goto L1705;}L1697:$_stack[++$_stack_sp]=$_p;L1698:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="\n"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\n"',$_expected)){$_expected[]='"\\n"';}}}L1699:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1700:if(!$_fail){goto L1704;}L1701:$_fail=false;L1702:$_value=NULL;L1703:$_p=$_a;L1704:$_stack[$_stack_sp].=$_value;L1705:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1706:unset($_stack[$_stack_sp--]);L1707:unset($this->_environment_stack[$this->_environment_stack_sp--]);L1708:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1709:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1710:$_b=array();L1711:$_b[0]=$_fail;L1712:$_b[1]=$_value;L1713:$_b[2]=$_p;L1714:$_cache[$_a]=$_b;L1715:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1716:if($_a===1374){goto L1374;}else if($_a===1511){goto L1511;}else if($_a===1606){goto L1606;}else if($_a===1624){goto L1624;}else{return array(FALSE,NULL,16);}L1717:$_stack[++$_stack_sp]="17@";L1718:$_stack[$_stack_sp].=$_p;L1719:if(!isset($_cache[$_stack[$_stack_sp]])){goto L1726;}L1720:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1721:$_b=$_cache[$_a];L1722:$_fail=$_b[0];L1723:$_value=$_b[1];L1724:$_p=$_b[2];L1725:goto L1818;L1726:$_stack[++$_stack_sp]=$_env;L1727:$_env=array();L1728:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L1729:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1730:$_stack[++$_stack_sp]=$_b;L1731:$_stack[++$_stack_sp]=NULL;L1732:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="("){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"("',$_expected)){$_expected[]='"("';}}}L1733:$_stack[$_stack_sp]=$_value;L1734:if($_fail){goto L1806;}L1735:$_stack[++$_stack_sp]=1737;L1736:goto L1483;L1737:if($_fail){goto L1806;}L1738:$_stack[++$_stack_sp]=$_p;L1739:$_stack[++$_stack_sp]=$_env;L1740:$_env=array();L1741:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1742:$_stack[++$_stack_sp]=$_b;L1743:$_stack[++$_stack_sp]=NULL;L1744:$_stack[++$_stack_sp]=$_env;L1745:$_env=array();L1746:$_stack[++$_stack_sp]=1748;L1747:goto L1280;L1748:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1749:$_env["first"]=$_value;L1750:$_stack[$_stack_sp]=$_value;L1751:if($_fail){goto L1790;}L1752:$_stack[++$_stack_sp]=$_p;L1753:$_stack[++$_stack_sp]=array();L1754:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L1755:$_stack[++$_stack_sp]=$_b;L1756:$_stack[++$_stack_sp]=NULL;L1757:$_stack[++$_stack_sp]=$_env;L1758:$_env=array();L1759:$_stack[++$_stack_sp]=NULL;L1760:$_stack[++$_stack_sp]=1762;L1761:goto L1483;L1762:$_stack[$_stack_sp]=$_value;L1763:if($_fail){goto L1768;}L1764:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])===","){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('","',$_expected)){$_expected[]='","';}}}L1765:if($_fail){goto L1768;}L1766:$_stack[++$_stack_sp]=1768;L1767:goto L1483;L1768:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1769:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1770:$_stack[$_stack_sp]=$_value;L1771:if($_fail){goto L1778;}L1772:$_stack[++$_stack_sp]=$_env;L1773:$_env=array();L1774:$_stack[++$_stack_sp]=1776;L1775:goto L1280;L1776:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1777:$_env["next"]=$_value;L1778:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1779:if($_fail){goto L1781;}L1780:$_value=$this->_57($_env);L1781:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1782:if($_fail){goto L1786;}L1783:$_stack[$_stack_sp][]=$_value;L1784:$_stack[$_stack_sp-1]=$_p;L1785:goto L1754;L1786:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1787:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1788:$_fail=false;L1789:$_env["rest"]=$_value;L1790:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1791:if($_fail){goto L1793;}L1792:$_value=$this->_56($_env);L1793:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1794:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1795:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1796:if(!$_fail){goto L1800;}L1797:$_fail=false;L1798:$_value=NULL;L1799:$_p=$_a;L1800:$_env["parameters"]=$_value;L1801:if($_fail){goto L1806;}L1802:$_stack[++$_stack_sp]=1804;L1803:goto L1483;L1804:if($_fail){goto L1806;}L1805:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])===")"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('")"',$_expected)){$_expected[]='")"';}}}L1806:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1807:if($_fail){goto L1809;}L1808:$_value=$this->_55($_env);L1809:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1810:unset($this->_environment_stack[$this->_environment_stack_sp--]);L1811:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1812:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1813:$_b=array();L1814:$_b[0]=$_fail;L1815:$_b[1]=$_value;L1816:$_b[2]=$_p;L1817:$_cache[$_a]=$_b;L1818:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L1819:if($_a===155){goto L155;}else if($_a===308){goto L308;}else{return array(FALSE,NULL,17);}Lend:list($ok,$result)=array(!$_fail,$_value);if(!$ok){$before=str_replace(array("\r\n","\r"),"\n",substr($_s,0,$_maxp));$after=str_replace(array("\r\n","\r"),"\n",substr($_s,$_maxp));$line=1;if(($pos=strrpos($before,"\n"))!==FALSE){$line=substr_count($before,"\n")+1;$before=(string)substr($before,$pos+1);}if(($pos=strpos($after,"\n"))!==FALSE){$after=substr($after,0,$pos);}return array(FALSE,NULL,(object)array('position'=>$_maxp,'line'=>$line,'column'=>strlen($before)+1,'context'=>$before.$after,'expected'=>$_expected));}return array(TRUE,$result,NULL);}private function _0(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("phpeg",array_merge($declarations,$definitions));}private function _1(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("namespace",$namespace);}private function _2(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$first.implode("",$rest);}private function _3(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$s.$next;}private function _4(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("name",$name);}private function _5(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("init",$code);}private function _6(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("invoke",(array)$parameters,$code);}private function _7(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("import",$spec,$path);}private function _8(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return TRUE;}private function _9(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$name;}private function _10(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("macro",$name,$parameters,$expression);}private function _11(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("rule",$name,$expression);}private function _12(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);if(count($expressions)<2){return$expressions[0];}else{return array("first",$expressions);}}private function _13(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array_merge(array($first),$rest);}private function _14(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$next;}private function _15(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);$ret=count($expressions)<2?$expressions[0]:array("all",$expressions);if($action){$ret=array("action",$ret,$action);}return$ret;}private function _16(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array_merge(array($first),$rest);}private function _17(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$next;}private function _18(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("and",$expression);}private function _19(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("not",$expression);}private function _20(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("semantic_predicate",$code);}private function _21(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("bind",$varname,array("position"));}private function _22(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("bind",$varname,$expression);}private function _23(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$suffix?array($suffix,$expression):$expression;}private function _24(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"optional";}private function _25(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"zero_or_more";}private function _26(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"one_or_more";}private function _27(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("expand",$importname?array($importname,$macroname):$macroname,(array)$arguments);}private function _28(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$name;}private function _29(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array_merge(array($first),$rest);}private function _30(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$next;}private function _31(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("apply",$importname?array($importname,$rulename):$rulename);}private function _32(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$name;}private function _33(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$expression;}private function _34(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("literal",$literal);}private function _35(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("range",$range);}private function _36(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("any");}private function _37(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$matches;}private function _38(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array(ord($a),ord($b));}private function _39(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return ord($c);}private function _40(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return implode("",$value);}private function _41(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return implode("",$value);}private function _42(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"\n";}private function _43(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"\r";}private function _44(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"\t";}private function _45(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"\\";}private function _46(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return'"';}private function _47(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"'";}private function _48(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return']';}private function _49(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return chr(hexdec($a.$b));}private function _50(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return ltrim($code);}private function _51(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"return ".trim($code).";";}private function _52(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return implode("",$inside);}private function _53(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$c;}private function _54(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"{".$i."}";}private function _55(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return(array)$parameters;}private function _56(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array_merge(array($first),$rest);}private function _57(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$next;}}class parse_treewalker{private$_environments=array(-1=>array());private$_environment_stack=array();private$_environment_stack_sp=-1;public function __construct(){}public function __invoke($s){foreach($this->_environments as$_env){extract($_env,EXTR_OVERWRITE|EXTR_REFS);}return$this->parse($s);}public function parse($_s){$_addr=0;$_maxp=$_p=0;$_expected=array();L0:$_stack_sp=-1;$_stack=array();L1:$_fail=false;L2:$_value=NULL;L3:$_cache=array();L4:$_a=NULL;L5:$_b=NULL;L6:$_c=NULL;L7:$_d=NULL;L8:$_env=array();L9:$_stack[++$_stack_sp]=11;L10:goto L12;L11:goto Lend;L12:$_stack[++$_stack_sp]="0@";L13:$_stack[$_stack_sp].=$_p;L14:if(!isset($_cache[$_stack[$_stack_sp]])){goto L21;}L15:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L16:$_b=$_cache[$_a];L17:$_fail=$_b[0];L18:$_value=$_b[1];L19:$_p=$_b[2];L20:goto L219;L21:$_stack[++$_stack_sp]=$_env;L22:$_env=array();L23:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L24:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L25:$_stack[++$_stack_sp]=$_b;L26:$_stack[++$_stack_sp]=NULL;L27:$_stack[++$_stack_sp]=29;L28:goto L444;L29:$_stack[$_stack_sp]=$_value;L30:if($_fail){goto L207;}L31:$_stack[++$_stack_sp]=$_p;L32:$_stack[++$_stack_sp]=array();L33:$_stack[++$_stack_sp]=$_p;L34:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L35:$_stack[++$_stack_sp]=$_b;L36:$_stack[++$_stack_sp]=NULL;L37:$_fail=TRUE;if(($_a=substr($_s,$_p,10))==="-namespace"){$_fail=FALSE;$_value=$_a;$_p+=10;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"-namespace"',$_expected)){$_expected[]='"-namespace"';}}}L38:$_stack[$_stack_sp]=$_value;L39:if($_fail){goto L95;}L40:$_stack[++$_stack_sp]=42;L41:goto L538;L42:if($_fail){goto L95;}L43:$_stack[++$_stack_sp]=$_env;L44:$_env=array();L45:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L46:$_stack[++$_stack_sp]=$_b;L47:$_stack[++$_stack_sp]=NULL;L48:$_stack[++$_stack_sp]=$_env;L49:$_env=array();L50:$_stack[++$_stack_sp]=52;L51:goto L678;L52:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L53:$_env["first"]=$_value;L54:$_stack[$_stack_sp]=$_value;L55:if($_fail){goto L86;}L56:$_stack[++$_stack_sp]=$_p;L57:$_stack[++$_stack_sp]=array();L58:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L59:$_stack[++$_stack_sp]=$_b;L60:$_stack[++$_stack_sp]=NULL;L61:$_stack[++$_stack_sp]=$_env;L62:$_env=array();L63:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="\\"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\\\"',$_expected)){$_expected[]='"\\\\"';}}}L64:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L65:$_env["s"]=$_value;L66:$_stack[$_stack_sp]=$_value;L67:if($_fail){goto L74;}L68:$_stack[++$_stack_sp]=$_env;L69:$_env=array();L70:$_stack[++$_stack_sp]=72;L71:goto L678;L72:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L73:$_env["next"]=$_value;L74:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L75:if($_fail){goto L77;}L76:$_value=$this->_3($_env);L77:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L78:if($_fail){goto L82;}L79:$_stack[$_stack_sp][]=$_value;L80:$_stack[$_stack_sp-1]=$_p;L81:goto L58;L82:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L83:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L84:$_fail=false;L85:$_env["rest"]=$_value;L86:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L87:if($_fail){goto L89;}L88:$_value=$this->_2($_env);L89:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L90:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L91:$_env["namespace"]=$_value;L92:if($_fail){goto L95;}L93:$_stack[++$_stack_sp]=95;L94:goto L444;L95:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L96:if($_fail){goto L98;}L97:$_value=$this->_1($_env);L98:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L99:if(!$_fail){goto L175;}L100:$_p=$_stack[$_stack_sp];L101:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L102:$_stack[++$_stack_sp]=$_b;L103:$_stack[++$_stack_sp]=NULL;L104:$_fail=TRUE;if(($_a=substr($_s,$_p,5))==="-name"){$_fail=FALSE;$_value=$_a;$_p+=5;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"-name"',$_expected)){$_expected[]='"-name"';}}}L105:$_stack[$_stack_sp]=$_value;L106:if($_fail){goto L116;}L107:$_stack[++$_stack_sp]=109;L108:goto L538;L109:if($_fail){goto L116;}L110:$_stack[++$_stack_sp]=112;L111:goto L678;L112:$_env["name"]=$_value;L113:if($_fail){goto L116;}L114:$_stack[++$_stack_sp]=116;L115:goto L444;L116:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L117:if($_fail){goto L119;}L118:$_value=$this->_4($_env);L119:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L120:if(!$_fail){goto L175;}L121:$_p=$_stack[$_stack_sp];L122:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L123:$_stack[++$_stack_sp]=$_b;L124:$_stack[++$_stack_sp]=NULL;L125:$_fail=TRUE;if(($_a=substr($_s,$_p,5))==="-init"){$_fail=FALSE;$_value=$_a;$_p+=5;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"-init"',$_expected)){$_expected[]='"-init"';}}}L126:$_stack[$_stack_sp]=$_value;L127:if($_fail){goto L137;}L128:$_stack[++$_stack_sp]=130;L129:goto L444;L130:if($_fail){goto L137;}L131:$_stack[++$_stack_sp]=133;L132:goto L716;L133:$_env["code"]=$_value;L134:if($_fail){goto L137;}L135:$_stack[++$_stack_sp]=137;L136:goto L444;L137:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L138:if($_fail){goto L140;}L139:$_value=$this->_5($_env);L140:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L141:if(!$_fail){goto L175;}L142:$_p=$_stack[$_stack_sp];L143:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L144:$_stack[++$_stack_sp]=$_b;L145:$_stack[++$_stack_sp]=NULL;L146:$_fail=TRUE;if(($_a=substr($_s,$_p,7))==="-invoke"){$_fail=FALSE;$_value=$_a;$_p+=7;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"-invoke"',$_expected)){$_expected[]='"-invoke"';}}}L147:$_stack[$_stack_sp]=$_value;L148:if($_fail){goto L171;}L149:$_stack[++$_stack_sp]=151;L150:goto L444;L151:if($_fail){goto L171;}L152:$_stack[++$_stack_sp]=$_p;L153:$_stack[++$_stack_sp]=155;L154:goto L341;L155:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L156:if(!$_fail){goto L160;}L157:$_fail=false;L158:$_value=NULL;L159:$_p=$_a;L160:$_env["parameters"]=$_value;L161:if($_fail){goto L171;}L162:$_stack[++$_stack_sp]=164;L163:goto L444;L164:if($_fail){goto L171;}L165:$_stack[++$_stack_sp]=167;L166:goto L716;L167:$_env["code"]=$_value;L168:if($_fail){goto L171;}L169:$_stack[++$_stack_sp]=171;L170:goto L444;L171:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L172:if($_fail){goto L174;}L173:$_value=$this->_6($_env);L174:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L175:unset($_stack[$_stack_sp--]);L176:if($_fail){goto L180;}L177:$_stack[$_stack_sp][]=$_value;L178:$_stack[$_stack_sp-1]=$_p;L179:goto L33;L180:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L181:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L182:$_fail=false;L183:$_env["declarations"]=$_value;L184:if($_fail){goto L207;}L185:$_stack[++$_stack_sp]=$_p;L186:$_stack[++$_stack_sp]=array();L187:$_stack[++$_stack_sp]=true;L188:$_stack[++$_stack_sp]=190;L189:goto L221;L190:if($_fail){goto L195;}L191:$_stack[$_stack_sp]=false;L192:$_stack[$_stack_sp-1][]=$_value;L193:$_stack[$_stack_sp-2]=$_p;L194:goto L188;L195:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L196:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L197:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L198:if($_a){goto L200;}L199:$_fail=false;L200:$_env["definitions"]=$_value;L201:if($_fail){goto L207;}L202:$_stack[++$_stack_sp]=$_p;L203:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L204:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L205:$_value=NULL;L206:$_fail=!$_fail;L207:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L208:if($_fail){goto L210;}L209:$_value=$this->_0($_env);L210:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L211:unset($this->_environment_stack[$this->_environment_stack_sp--]);L212:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L213:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L214:$_b=array();L215:$_b[0]=$_fail;L216:$_b[1]=$_value;L217:$_b[2]=$_p;L218:$_cache[$_a]=$_b;L219:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L220:if($_a!==11)return array(FALSE,NULL,0);goto L11;L221:$_stack[++$_stack_sp]="1@";L222:$_stack[$_stack_sp].=$_p;L223:if(!isset($_cache[$_stack[$_stack_sp]])){goto L230;}L224:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L225:$_b=$_cache[$_a];L226:$_fail=$_b[0];L227:$_value=$_b[1];L228:$_p=$_b[2];L229:goto L339;L230:$_stack[++$_stack_sp]=$_env;L231:$_env=array();L232:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L233:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L234:$_stack[++$_stack_sp]=$_b;L235:$_stack[++$_stack_sp]=NULL;L236:$_stack[++$_stack_sp]=$_p;L237:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L238:$_stack[++$_stack_sp]=$_b;L239:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="_"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"_"',$_expected)){$_expected[]='"_"';}}}L240:if($_fail){goto L242;}L241:$_value=$this->_8($_env);L242:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L243:if(!$_fail){goto L301;}L244:$_p=$_stack[$_stack_sp];L245:$_stack[++$_stack_sp]=$_env;L246:$_env=array();L247:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L248:$_stack[++$_stack_sp]=$_b;L249:$_stack[++$_stack_sp]=NULL;L250:$_stack[++$_stack_sp]=$_env;L251:$_env=array();L252:$_stack[++$_stack_sp]=254;L253:goto L678;L254:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L255:$_env["first"]=$_value;L256:$_stack[$_stack_sp]=$_value;L257:if($_fail){goto L296;}L258:$_stack[++$_stack_sp]=$_p;L259:$_stack[++$_stack_sp]=array();L260:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L261:$_stack[++$_stack_sp]=$_b;L262:$_stack[++$_stack_sp]=NULL;L263:$_stack[++$_stack_sp]=$_env;L264:$_env=array();L265:$_stack[++$_stack_sp]=NULL;L266:$_stack[++$_stack_sp]=268;L267:goto L444;L268:$_stack[$_stack_sp]=$_value;L269:if($_fail){goto L274;}L270:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])===","){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('","',$_expected)){$_expected[]='","';}}}L271:if($_fail){goto L274;}L272:$_stack[++$_stack_sp]=274;L273:goto L444;L274:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L275:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L276:$_stack[$_stack_sp]=$_value;L277:if($_fail){goto L284;}L278:$_stack[++$_stack_sp]=$_env;L279:$_env=array();L280:$_stack[++$_stack_sp]=282;L281:goto L678;L282:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L283:$_env["next"]=$_value;L284:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L285:if($_fail){goto L287;}L286:$_value=$this->_10($_env);L287:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L288:if($_fail){goto L292;}L289:$_stack[$_stack_sp][]=$_value;L290:$_stack[$_stack_sp-1]=$_p;L291:goto L260;L292:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L293:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L294:$_fail=false;L295:$_env["rest"]=$_value;L296:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L297:if($_fail){goto L299;}L298:$_value=$this->_9($_env);L299:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L300:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L301:unset($_stack[$_stack_sp--]);L302:$_env["match"]=$_value;L303:$_stack[$_stack_sp]=$_value;L304:if($_fail){goto L327;}L305:$_stack[++$_stack_sp]=307;L306:goto L444;L307:if($_fail){goto L327;}L308:$_stack[++$_stack_sp]=$_p;L309:$_stack[++$_stack_sp]=311;L310:goto L341;L311:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L312:if(!$_fail){goto L316;}L313:$_fail=false;L314:$_value=NULL;L315:$_p=$_a;L316:$_env["parameters"]=$_value;L317:if($_fail){goto L327;}L318:$_stack[++$_stack_sp]=320;L319:goto L444;L320:if($_fail){goto L327;}L321:$_stack[++$_stack_sp]=323;L322:goto L716;L323:$_env["code"]=$_value;L324:if($_fail){goto L327;}L325:$_stack[++$_stack_sp]=327;L326:goto L444;L327:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L328:if($_fail){goto L330;}L329:$_value=$this->_7($_env);L330:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L331:unset($this->_environment_stack[$this->_environment_stack_sp--]);L332:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L333:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L334:$_b=array();L335:$_b[0]=$_fail;L336:$_b[1]=$_value;L337:$_b[2]=$_p;L338:$_cache[$_a]=$_b;L339:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L340:if($_a!==190)return array(FALSE,NULL,1);goto L190;L341:$_stack[++$_stack_sp]="2@";L342:$_stack[$_stack_sp].=$_p;L343:if(!isset($_cache[$_stack[$_stack_sp]])){goto L350;}L344:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L345:$_b=$_cache[$_a];L346:$_fail=$_b[0];L347:$_value=$_b[1];L348:$_p=$_b[2];L349:goto L442;L350:$_stack[++$_stack_sp]=$_env;L351:$_env=array();L352:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L353:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L354:$_stack[++$_stack_sp]=$_b;L355:$_stack[++$_stack_sp]=NULL;L356:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="("){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"("',$_expected)){$_expected[]='"("';}}}L357:$_stack[$_stack_sp]=$_value;L358:if($_fail){goto L430;}L359:$_stack[++$_stack_sp]=361;L360:goto L444;L361:if($_fail){goto L430;}L362:$_stack[++$_stack_sp]=$_p;L363:$_stack[++$_stack_sp]=$_env;L364:$_env=array();L365:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L366:$_stack[++$_stack_sp]=$_b;L367:$_stack[++$_stack_sp]=NULL;L368:$_stack[++$_stack_sp]=$_env;L369:$_env=array();L370:$_stack[++$_stack_sp]=372;L371:goto L678;L372:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L373:$_env["first"]=$_value;L374:$_stack[$_stack_sp]=$_value;L375:if($_fail){goto L414;}L376:$_stack[++$_stack_sp]=$_p;L377:$_stack[++$_stack_sp]=array();L378:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L379:$_stack[++$_stack_sp]=$_b;L380:$_stack[++$_stack_sp]=NULL;L381:$_stack[++$_stack_sp]=$_env;L382:$_env=array();L383:$_stack[++$_stack_sp]=NULL;L384:$_stack[++$_stack_sp]=386;L385:goto L444;L386:$_stack[$_stack_sp]=$_value;L387:if($_fail){goto L392;}L388:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])===","){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('","',$_expected)){$_expected[]='","';}}}L389:if($_fail){goto L392;}L390:$_stack[++$_stack_sp]=392;L391:goto L444;L392:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L393:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L394:$_stack[$_stack_sp]=$_value;L395:if($_fail){goto L402;}L396:$_stack[++$_stack_sp]=$_env;L397:$_env=array();L398:$_stack[++$_stack_sp]=400;L399:goto L678;L400:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L401:$_env["next"]=$_value;L402:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L403:if($_fail){goto L405;}L404:$_value=$this->_13($_env);L405:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L406:if($_fail){goto L410;}L407:$_stack[$_stack_sp][]=$_value;L408:$_stack[$_stack_sp-1]=$_p;L409:goto L378;L410:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L411:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L412:$_fail=false;L413:$_env["rest"]=$_value;L414:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L415:if($_fail){goto L417;}L416:$_value=$this->_12($_env);L417:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L418:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L419:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L420:if(!$_fail){goto L424;}L421:$_fail=false;L422:$_value=NULL;L423:$_p=$_a;L424:$_env["parameters"]=$_value;L425:if($_fail){goto L430;}L426:$_stack[++$_stack_sp]=428;L427:goto L444;L428:if($_fail){goto L430;}L429:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])===")"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('")"',$_expected)){$_expected[]='")"';}}}L430:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L431:if($_fail){goto L433;}L432:$_value=$this->_11($_env);L433:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L434:unset($this->_environment_stack[$this->_environment_stack_sp--]);L435:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L436:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L437:$_b=array();L438:$_b[0]=$_fail;L439:$_b[1]=$_value;L440:$_b[2]=$_p;L441:$_cache[$_a]=$_b;L442:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L443:if($_a===155){goto L155;}else if($_a===311){goto L311;}else{return array(FALSE,NULL,2);}L444:$_stack[++$_stack_sp]="3@";L445:$_stack[$_stack_sp].=$_p;L446:if(!isset($_cache[$_stack[$_stack_sp]])){goto L453;}L447:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L448:$_b=$_cache[$_a];L449:$_fail=$_b[0];L450:$_value=$_b[1];L451:$_p=$_b[2];L452:goto L536;L453:$_stack[++$_stack_sp]=$_env;L454:$_env=array();L455:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L456:$_stack[++$_stack_sp]=$_p;L457:$_stack[++$_stack_sp]="";L458:$_stack[++$_stack_sp]=$_p;L459:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===32)||($_a===9)||($_a===13)||($_a===10))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[ \\t\\r\\n]',$_expected)){$_expected[]='[ \\t\\r\\n]';}}}L460:if(!$_fail){goto L520;}L461:$_p=$_stack[$_stack_sp];L462:$_stack[++$_stack_sp]="";L463:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="//"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"//"',$_expected)){$_expected[]='"//"';}}}L464:$_stack[$_stack_sp].=$_value;L465:if($_fail){goto L488;}L466:$_stack[++$_stack_sp]=$_p;L467:$_stack[++$_stack_sp]="";L468:$_stack[++$_stack_sp]="";L469:$_stack[++$_stack_sp]=$_p;L470:$_stack[++$_stack_sp]=472;L471:goto L638;L472:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L473:$_value=NULL;L474:$_fail=!$_fail;L475:$_stack[$_stack_sp].=$_value;L476:if($_fail){goto L479;}L477:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L478:$_stack[$_stack_sp].=$_value;L479:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L480:if($_fail){goto L484;}L481:$_stack[$_stack_sp].=$_value;L482:$_stack[$_stack_sp-1]=$_p;L483:goto L468;L484:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L485:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L486:$_fail=false;L487:$_stack[$_stack_sp].=$_value;L488:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L489:if(!$_fail){goto L520;}L490:$_p=$_stack[$_stack_sp];L491:$_stack[++$_stack_sp]="";L492:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="/*"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"/*"',$_expected)){$_expected[]='"/*"';}}}L493:$_stack[$_stack_sp].=$_value;L494:if($_fail){goto L519;}L495:$_stack[++$_stack_sp]=$_p;L496:$_stack[++$_stack_sp]="";L497:$_stack[++$_stack_sp]="";L498:$_stack[++$_stack_sp]=$_p;L499:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="*/"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"*/"',$_expected)){$_expected[]='"*/"';}}}L500:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L501:$_value=NULL;L502:$_fail=!$_fail;L503:$_stack[$_stack_sp].=$_value;L504:if($_fail){goto L507;}L505:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L506:$_stack[$_stack_sp].=$_value;L507:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L508:if($_fail){goto L512;}L509:$_stack[$_stack_sp].=$_value;L510:$_stack[$_stack_sp-1]=$_p;L511:goto L497;L512:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L513:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L514:$_fail=false;L515:$_stack[$_stack_sp].=$_value;L516:if($_fail){goto L519;}L517:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="*/"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"*/"',$_expected)){$_expected[]='"*/"';}}}L518:$_stack[$_stack_sp].=$_value;L519:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L520:unset($_stack[$_stack_sp--]);L521:if($_fail){goto L525;}L522:$_stack[$_stack_sp].=$_value;L523:$_stack[$_stack_sp-1]=$_p;L524:goto L458;L525:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L526:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L527:$_fail=false;L528:unset($this->_environment_stack[$this->_environment_stack_sp--]);L529:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L530:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L531:$_b=array();L532:$_b[0]=$_fail;L533:$_b[1]=$_value;L534:$_b[2]=$_p;L535:$_cache[$_a]=$_b;L536:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L537:if($_a===29){goto L29;}else if($_a===95){goto L95;}else if($_a===116){goto L116;}else if($_a===130){goto L130;}else if($_a===137){goto L137;}else if($_a===151){goto L151;}else if($_a===164){goto L164;}else if($_a===171){goto L171;}else if($_a===268){goto L268;}else if($_a===274){goto L274;}else if($_a===307){goto L307;}else if($_a===320){goto L320;}else if($_a===327){goto L327;}else if($_a===361){goto L361;}else if($_a===386){goto L386;}else if($_a===392){goto L392;}else if($_a===428){goto L428;}else if($_a===739){goto L739;}else{return array(FALSE,NULL,3);}L538:$_stack[++$_stack_sp]="4@";L539:$_stack[$_stack_sp].=$_p;L540:if(!isset($_cache[$_stack[$_stack_sp]])){goto L547;}L541:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L542:$_b=$_cache[$_a];L543:$_fail=$_b[0];L544:$_value=$_b[1];L545:$_p=$_b[2];L546:goto L636;L547:$_stack[++$_stack_sp]=$_env;L548:$_env=array();L549:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L550:$_stack[++$_stack_sp]=$_p;L551:$_stack[++$_stack_sp]=array();L552:$_stack[++$_stack_sp]=true;L553:$_stack[++$_stack_sp]=$_p;L554:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&(($_a===32)||($_a===9)||($_a===13)||($_a===10))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[ \\t\\r\\n]',$_expected)){$_expected[]='[ \\t\\r\\n]';}}}L555:if(!$_fail){goto L617;}L556:$_p=$_stack[$_stack_sp];L557:$_stack[++$_stack_sp]=NULL;L558:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="//"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"//"',$_expected)){$_expected[]='"//"';}}}L559:$_stack[$_stack_sp]=$_value;L560:if($_fail){goto L585;}L561:$_stack[++$_stack_sp]=$_p;L562:$_stack[++$_stack_sp]="";L563:$_stack[++$_stack_sp]="";L564:$_stack[++$_stack_sp]=$_p;L565:$_stack[++$_stack_sp]=567;L566:goto L638;L567:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L568:$_value=NULL;L569:$_fail=!$_fail;L570:$_stack[$_stack_sp].=$_value;L571:if($_fail){goto L574;}L572:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L573:$_stack[$_stack_sp].=$_value;L574:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L575:if($_fail){goto L579;}L576:$_stack[$_stack_sp].=$_value;L577:$_stack[$_stack_sp-1]=$_p;L578:goto L563;L579:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L580:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L581:$_fail=false;L582:if($_fail){goto L585;}L583:$_stack[++$_stack_sp]=585;L584:goto L638;L585:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L586:if(!$_fail){goto L617;}L587:$_p=$_stack[$_stack_sp];L588:$_stack[++$_stack_sp]="";L589:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="/*"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"/*"',$_expected)){$_expected[]='"/*"';}}}L590:$_stack[$_stack_sp].=$_value;L591:if($_fail){goto L616;}L592:$_stack[++$_stack_sp]=$_p;L593:$_stack[++$_stack_sp]="";L594:$_stack[++$_stack_sp]="";L595:$_stack[++$_stack_sp]=$_p;L596:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="*/"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"*/"',$_expected)){$_expected[]='"*/"';}}}L597:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L598:$_value=NULL;L599:$_fail=!$_fail;L600:$_stack[$_stack_sp].=$_value;L601:if($_fail){goto L604;}L602:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L603:$_stack[$_stack_sp].=$_value;L604:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L605:if($_fail){goto L609;}L606:$_stack[$_stack_sp].=$_value;L607:$_stack[$_stack_sp-1]=$_p;L608:goto L594;L609:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L610:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L611:$_fail=false;L612:$_stack[$_stack_sp].=$_value;L613:if($_fail){goto L616;}L614:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="*/"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"*/"',$_expected)){$_expected[]='"*/"';}}}L615:$_stack[$_stack_sp].=$_value;L616:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L617:unset($_stack[$_stack_sp--]);L618:if($_fail){goto L623;}L619:$_stack[$_stack_sp]=false;L620:$_stack[$_stack_sp-1][]=$_value;L621:$_stack[$_stack_sp-2]=$_p;L622:goto L553;L623:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L624:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L625:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L626:if($_a){goto L628;}L627:$_fail=false;L628:unset($this->_environment_stack[$this->_environment_stack_sp--]);L629:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L630:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L631:$_b=array();L632:$_b[0]=$_fail;L633:$_b[1]=$_value;L634:$_b[2]=$_p;L635:$_cache[$_a]=$_b;L636:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L637:if($_a===42){goto L42;}else if($_a===109){goto L109;}else{return array(FALSE,NULL,4);}L638:$_stack[++$_stack_sp]="5@";L639:$_stack[$_stack_sp].=$_p;L640:if(!isset($_cache[$_stack[$_stack_sp]])){goto L647;}L641:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L642:$_b=$_cache[$_a];L643:$_fail=$_b[0];L644:$_value=$_b[1];L645:$_p=$_b[2];L646:goto L676;L647:$_stack[++$_stack_sp]=$_env;L648:$_env=array();L649:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L650:$_stack[++$_stack_sp]=$_p;L651:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="\n"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\n"',$_expected)){$_expected[]='"\\n"';}}}L652:if(!$_fail){goto L667;}L653:$_p=$_stack[$_stack_sp];L654:$_stack[++$_stack_sp]="";L655:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="\r"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\r"',$_expected)){$_expected[]='"\\r"';}}}L656:$_stack[$_stack_sp].=$_value;L657:if($_fail){goto L666;}L658:$_stack[++$_stack_sp]=$_p;L659:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="\n"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"\\n"',$_expected)){$_expected[]='"\\n"';}}}L660:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L661:if(!$_fail){goto L665;}L662:$_fail=false;L663:$_value=NULL;L664:$_p=$_a;L665:$_stack[$_stack_sp].=$_value;L666:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L667:unset($_stack[$_stack_sp--]);L668:unset($this->_environment_stack[$this->_environment_stack_sp--]);L669:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L670:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L671:$_b=array();L672:$_b[0]=$_fail;L673:$_b[1]=$_value;L674:$_b[2]=$_p;L675:$_cache[$_a]=$_b;L676:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L677:if($_a===472){goto L472;}else if($_a===567){goto L567;}else if($_a===585){goto L585;}else if($_a===772){goto L772;}else{return array(FALSE,NULL,5);}L678:$_stack[++$_stack_sp]="6@";L679:$_stack[$_stack_sp].=$_p;L680:if(!isset($_cache[$_stack[$_stack_sp]])){goto L687;}L681:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L682:$_b=$_cache[$_a];L683:$_fail=$_b[0];L684:$_value=$_b[1];L685:$_p=$_b[2];L686:goto L714;L687:$_stack[++$_stack_sp]=$_env;L688:$_env=array();L689:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L690:$_stack[++$_stack_sp]="";L691:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&((97<=$_a&&$_a<=122)||(65<=$_a&&$_a<=90)||($_a===95))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[a-zA-Z_]',$_expected)){$_expected[]='[a-zA-Z_]';}}}L692:$_stack[$_stack_sp].=$_value;L693:if($_fail){goto L705;}L694:$_stack[++$_stack_sp]=$_p;L695:$_stack[++$_stack_sp]="";L696:$_fail=TRUE;if(isset($_s[$_p])&&is_int($_a=ord($_s[$_p]))&&((97<=$_a&&$_a<=122)||(65<=$_a&&$_a<=90)||(48<=$_a&&$_a<=57)||($_a===95))){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('[a-zA-Z0-9_]',$_expected)){$_expected[]='[a-zA-Z0-9_]';}}}L697:if($_fail){goto L701;}L698:$_stack[$_stack_sp].=$_value;L699:$_stack[$_stack_sp-1]=$_p;L700:goto L696;L701:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L702:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L703:$_fail=false;L704:$_stack[$_stack_sp].=$_value;L705:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L706:unset($this->_environment_stack[$this->_environment_stack_sp--]);L707:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L708:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L709:$_b=array();L710:$_b[0]=$_fail;L711:$_b[1]=$_value;L712:$_b[2]=$_p;L713:$_cache[$_a]=$_b;L714:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L715:if($_a===52){goto L52;}else if($_a===72){goto L72;}else if($_a===112){goto L112;}else if($_a===254){goto L254;}else if($_a===282){goto L282;}else if($_a===372){goto L372;}else if($_a===400){goto L400;}else{return array(FALSE,NULL,6);}L716:$_stack[++$_stack_sp]="7@";L717:$_stack[$_stack_sp].=$_p;L718:if(!isset($_cache[$_stack[$_stack_sp]])){goto L725;}L719:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L720:$_b=$_cache[$_a];L721:$_fail=$_b[0];L722:$_value=$_b[1];L723:$_p=$_b[2];L724:goto L801;L725:$_stack[++$_stack_sp]=$_env;L726:$_env=array();L727:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L728:$_stack[++$_stack_sp]=$_p;L729:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L730:$_stack[++$_stack_sp]=$_b;L731:$_stack[++$_stack_sp]=NULL;L732:$_stack[++$_stack_sp]=$_p;L733:$_stack[++$_stack_sp]=NULL;L734:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="->"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"->"',$_expected)){$_expected[]='"->"';}}}L735:$_stack[$_stack_sp]=$_value;L736:if($_fail){goto L739;}L737:$_stack[++$_stack_sp]=739;L738:goto L444;L739:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L740:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L741:if(!$_fail){goto L745;}L742:$_fail=false;L743:$_value=NULL;L744:$_p=$_a;L745:$_stack[$_stack_sp]=$_value;L746:if($_fail){goto L754;}L747:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="{"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"{"',$_expected)){$_expected[]='"{"';}}}L748:if($_fail){goto L754;}L749:$_stack[++$_stack_sp]=751;L750:goto L803;L751:$_env["code"]=$_value;L752:if($_fail){goto L754;}L753:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="}"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"}"',$_expected)){$_expected[]='"}"';}}}L754:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L755:if($_fail){goto L757;}L756:$_value=$this->_14($_env);L757:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L758:if(!$_fail){goto L792;}L759:$_p=$_stack[$_stack_sp];L760:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L761:$_stack[++$_stack_sp]=$_b;L762:$_stack[++$_stack_sp]=NULL;L763:$_fail=TRUE;if(($_a=substr($_s,$_p,2))==="->"){$_fail=FALSE;$_value=$_a;$_p+=2;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"->"',$_expected)){$_expected[]='"->"';}}}L764:$_stack[$_stack_sp]=$_value;L765:if($_fail){goto L788;}L766:$_stack[++$_stack_sp]=$_p;L767:$_stack[++$_stack_sp]="";L768:$_stack[++$_stack_sp]="";L769:$_stack[++$_stack_sp]=$_p;L770:$_stack[++$_stack_sp]=772;L771:goto L638;L772:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L773:$_value=NULL;L774:$_fail=!$_fail;L775:$_stack[$_stack_sp].=$_value;L776:if($_fail){goto L779;}L777:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L778:$_stack[$_stack_sp].=$_value;L779:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L780:if($_fail){goto L784;}L781:$_stack[$_stack_sp].=$_value;L782:$_stack[$_stack_sp-1]=$_p;L783:goto L768;L784:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L785:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L786:$_fail=false;L787:$_env["code"]=$_value;L788:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L789:if($_fail){goto L791;}L790:$_value=$this->_15($_env);L791:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L792:unset($_stack[$_stack_sp--]);L793:unset($this->_environment_stack[$this->_environment_stack_sp--]);L794:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L795:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L796:$_b=array();L797:$_b[0]=$_fail;L798:$_b[1]=$_value;L799:$_b[2]=$_p;L800:$_cache[$_a]=$_b;L801:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L802:if($_a===133){goto L133;}else if($_a===167){goto L167;}else if($_a===323){goto L323;}else{return array(FALSE,NULL,7);}L803:$_stack[++$_stack_sp]="8@";L804:$_stack[$_stack_sp].=$_p;L805:if(!isset($_cache[$_stack[$_stack_sp]])){goto L812;}L806:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L807:$_b=$_cache[$_a];L808:$_fail=$_b[0];L809:$_value=$_b[1];L810:$_p=$_b[2];L811:goto L879;L812:$_stack[++$_stack_sp]=$_env;L813:$_env=array();L814:$this->_environment_stack[++$this->_environment_stack_sp]=-1;L815:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L816:$_stack[++$_stack_sp]=$_b;L817:$_stack[++$_stack_sp]=$_p;L818:$_stack[++$_stack_sp]=array();L819:$_stack[++$_stack_sp]=$_p;L820:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L821:$_stack[++$_stack_sp]=$_b;L822:$_stack[++$_stack_sp]=NULL;L823:$_stack[++$_stack_sp]=$_p;L824:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="{"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"{"',$_expected)){$_expected[]='"{"';}}}L825:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L826:$_value=NULL;L827:$_fail=!$_fail;L828:if($_fail){goto L838;}L829:$_stack[++$_stack_sp]=$_p;L830:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="}"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"}"',$_expected)){$_expected[]='"}"';}}}L831:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L832:$_value=NULL;L833:$_fail=!$_fail;L834:if($_fail){goto L838;}L835:$_fail=TRUE;if(isset($_s[$_p])){$_fail=FALSE;$_value=$_s[$_p];$_p++;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('any character',$_expected)){$_expected[]='any character';}}}L836:$_env["c"]=$_value;L837:$_stack[$_stack_sp]=$_value;L838:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L839:if($_fail){goto L841;}L840:$_value=$this->_17($_env);L841:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L842:if(!$_fail){goto L859;}L843:$_p=$_stack[$_stack_sp];L844:$_b=array();foreach($_env as$_ref=>$_){$_b[$_ref]=&$_env[$_ref];}L845:$_stack[++$_stack_sp]=$_b;L846:$_stack[++$_stack_sp]=NULL;L847:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="{"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"{"',$_expected)){$_expected[]='"{"';}}}L848:$_stack[$_stack_sp]=$_value;L849:if($_fail){goto L855;}L850:$_stack[++$_stack_sp]=852;L851:goto L803;L852:$_env["i"]=$_value;L853:if($_fail){goto L855;}L854:$_fail=TRUE;if(isset($_s[$_p])&&($_a=$_s[$_p])==="}"){$_fail=FALSE;$_value=$_a;$_p+=1;}else{if($_p>=$_maxp){if($_p>$_maxp){$_maxp=$_p;$_expected=array();}if(!in_array('"}"',$_expected)){$_expected[]='"}"';}}}L855:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L856:if($_fail){goto L858;}L857:$_value=$this->_18($_env);L858:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L859:unset($_stack[$_stack_sp--]);L860:if($_fail){goto L864;}L861:$_stack[$_stack_sp][]=$_value;L862:$_stack[$_stack_sp-1]=$_p;L863:goto L819;L864:$_value=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L865:$_p=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L866:$_fail=false;L867:$_env["inside"]=$_value;L868:if($_fail){goto L870;}L869:$_value=$this->_16($_env);L870:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L871:unset($this->_environment_stack[$this->_environment_stack_sp--]);L872:$_env=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L873:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L874:$_b=array();L875:$_b[0]=$_fail;L876:$_b[1]=$_value;L877:$_b[2]=$_p;L878:$_cache[$_a]=$_b;L879:$_a=$_stack[$_stack_sp];unset($_stack[$_stack_sp--]);L880:if($_a===751){goto L751;}else if($_a===852){goto L852;}else{return array(FALSE,NULL,8);}Lend:list($ok,$result)=array(!$_fail,$_value);if(!$ok){$before=str_replace(array("\r\n","\r"),"\n",substr($_s,0,$_maxp));$after=str_replace(array("\r\n","\r"),"\n",substr($_s,$_maxp));$line=1;if(($pos=strrpos($before,"\n"))!==FALSE){$line=substr_count($before,"\n")+1;$before=(string)substr($before,$pos+1);}if(($pos=strpos($after,"\n"))!==FALSE){$after=substr($after,0,$pos);}return array(FALSE,NULL,(object)array('position'=>$_maxp,'line'=>$line,'column'=>strlen($before)+1,'context'=>$before.$after,'expected'=>$_expected));}return array(TRUE,$result,NULL);}private function _0(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("treewalker",array_merge($declarations,$definitions));}private function _1(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("namespace",$namespace);}private function _2(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$first.implode("",$rest);}private function _3(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$s.$next;}private function _4(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("name",$name);}private function _5(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("init",$code);}private function _6(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("invoke",$parameters,$code);}private function _7(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array("matcher",$match,(array)$parameters,$code);}private function _8(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return TRUE;}private function _9(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array_merge(array($first),$rest);}private function _10(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$next;}private function _11(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return(array)$parameters;}private function _12(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return array_merge(array($first),$rest);}private function _13(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$next;}private function _14(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return ltrim($code);}private function _15(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"return ".trim($code).";";}private function _16(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return implode("",$inside);}private function _17(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return$c;}private function _18(){extract($this->_environments[$this->_environment_stack[$this->_environment_stack_sp]],EXTR_OVERWRITE|EXTR_REFS);extract(func_get_arg(0),EXTR_OVERWRITE|EXTR_REFS);return"{".$i."}";}}class process_input{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("file_to_init"=>array(),);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'rule':list($_,$_0)=$node;$ret=$this->_0($_0);break;case'all':case'first':list($_,$_0)=$node;$ret=$this->_1($_0);break;case'action':list($_,$_0,$_1)=$node;$ret=$this->_2($_0,$_1);break;case'and':case'not':case'optional':case'zero_or_more':case'one_or_more':case'quarantine':case'empty_environment':list($_,$_0)=$node;$ret=$this->_3($_0);break;case'bind':list($_,$_0,$_1)=$node;$ret=$this->_4($_0,$_1);break;case'environment':list($_,$_0,$_1)=$node;$ret=$this->_5($_0,$_1);break;default:$ret=$this->_6();break;}array_pop($this->_stack);return$ret;}public function __invoke($input){extract($this->_env,EXTR_REFS);list($provides,$definitions)=c(new parse_input,$input,array(),array());$definitions=c(new expand_macros,$provides,$definitions);c(new check_left_recursive,$provides,$definitions);foreach($provides as$file=>$about){$rules=array();for($i=0;$i<$about->count;++$i){if(isset($definitions[$about->start+$i])){$rules[$about->start+$i]=$definitions[$about->start+$i];}}}$used=array_flip(c(new used,$definitions));$reindex=array();$newdefinitions=array();foreach($definitions as$k=>$definition){if(isset($used[$k])){$newdefinitions[]=$definition;$reindex[]=$k;}}$reindex=array_flip($reindex);list($_,$definitions)=c(new reindex,$newdefinitions,$reindex);$first=TRUE;$namespace=NULL;$name=NULL;$inits=array();$invoke=NULL;foreach($provides as$file=>$about){if($about->init){$self->file_to_init[$file]=count($inits);$inits[count($inits)]=$about->init;}foreach($about->reindex as$l=>$r){if(!isset($reindex[$r])){unset($about->reindex[$l]);continue;}$about->reindex[$l]=$reindex[$r];}reset($about->reindex);$about->start=current($about->reindex);$about->count=count($about->reindex);if($about->count<1){unset($provides[$file]);continue;}if($first){$first=FALSE;$namespace=$about->namespace;$name=$about->name;if($name===NULL&&strncmp($file,"php:",4)===0){$name="parser";}if($name===NULL){$name=basename($file);if(($pos=strrpos($name,"."))!==FALSE){$name=substr($name,0,$pos);}}$invoke=$about->invoke;}}return array($namespace,$name,$inits,$invoke,$this->_walkeach($definitions));}protected function _0($node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _1($nodes){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walkeach($nodes));}protected function _2($node,$code){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk($node),$code);}protected function _3($node){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk($node));}protected function _4($varname,$node){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$varname,$this->_walk($node));}protected function _5($file,$node){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$self->file_to_init[$file],$this->_walk($node));}protected function _6(){extract($this->_env,EXTR_REFS);return$this->_node();}}class reindex{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("reindex"=>array(),"exclusions"=>array(),"doesnt_exist"=>array(),);$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'macro':list($_,$_0,$_1,$_2)=$node;$ret=$this->_0($_0,$_1,$_2);break;case'rule':list($_,$_0,$_1)=$node;$ret=$this->_1($_0,$_1);break;case'first':case'all':list($_,$_0)=$node;$ret=$this->_2($_0);break;case'action':list($_,$_0,$_1)=$node;$ret=$this->_3($_0,$_1);break;case'environment':list($_,$_0,$_1)=$node;$ret=$this->_4($_0,$_1);break;case'and':case'not':case'optional':case'zero_or_more':case'one_or_more':case'quarantine':case'empty_environment':list($_,$_0)=$node;$ret=$this->_5($_0);break;case'bind':list($_,$_0,$_1)=$node;$ret=$this->_6($_0,$_1);break;case'apply':list($_,$_0)=$node;$ret=$this->_7($_0);break;case'expand':list($_,$_0,$_1)=$node;$ret=$this->_8($_0,$_1);break;case'name_':list($_,$_0)=$node;$ret=$this->_9($_0);break;default:$ret=$this->_10();break;}array_pop($this->_stack);return$ret;}public function __invoke($definitions,$reindex){extract($this->_env,EXTR_REFS);$self->reindex=$reindex;$ret=$this->_walkeach($definitions);return array(array_keys($self->doesnt_exist),$ret);}protected function _0($name,$arguments,$node){extract($this->_env,EXTR_REFS);$self->exclusions=$arguments;$ret=array($this->_nodetype(),$name,$arguments,$this->_walk($node));$self->exclusions=array();return$ret;}protected function _1($name,$node){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$name,$this->_walk($node));;}protected function _2($nodes){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walkeach($nodes));;}protected function _3($node,$code){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk($node),$code);}protected function _4($i,$node){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$i,$this->_walk($node));}protected function _5($node){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk($node));}protected function _6($varname,$node){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$varname,$this->_walk($node));}protected function _7($name){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk(array("name_",$name)));}protected function _8($name,$arguments){extract($this->_env,EXTR_REFS);return array($this->_nodetype(),$this->_walk(array("name_",$name)),$this->_walkeach($arguments));}protected function _9($name){extract($this->_env,EXTR_REFS);if(in_array($name,$self->exclusions)){return$name;}$key=implode(".",(array)$name);if(isset($self->reindex[$key])){$name=$self->reindex[$key];}else{$self->doesnt_exist[$key]=TRUE;}return$name;}protected function _10(){extract($this->_env,EXTR_REFS);return$this->_node();}}class select_nodes{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$self=(object)array("select"=>array());$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){default:$ret=$this->_0();break;}array_pop($this->_stack);return$ret;}public function __invoke($select,$nodes){extract($this->_env,EXTR_REFS);$self->select=$select;return array_filter($this->_walkeach($nodes));}protected function _0(){extract($this->_env,EXTR_REFS);if(in_array($this->_nodetype(),$self->select)){return$this->_node();}return FALSE;}}class used{private$_stack=array();private$_env;private$_index;public function __construct(){$this->_init();}public function walk($node){return$this->_walk($node);}public function walkeach(array$nodes){return$this->_walkeach($nodes);}protected function _init(){$this->_env=array();$this->_env=get_defined_vars();}protected function _node(){return end($this->_stack);}protected function _nodetype(){return current($this->_node());}protected function _stack(){return$this->_stack;}protected function _root(){reset($this->_stack);return current($this->_stack);}protected function _index(){return$this->_index;}protected function _walkeach(array$nodes){$ret=array();foreach($nodes as$k=>$node){$this->_index=$k;$ret[$k]=$this->_walk($node);}return$ret;}protected function _walk($node){array_push($this->_stack,$node);$ret=NULL;switch($node[0]){case'rule':list($_,$_0,$_1)=$node;$ret=$this->_0($_0,$_1);break;case'first':case'all':list($_,$_0)=$node;$ret=$this->_1($_0);break;case'environment':list($_,$_0,$_1)=$node;$ret=$this->_2($_0,$_1);break;case'optional':case'zero_or_more':case'one_or_more':case'quarantine':case'empty_environment':list($_,$_0)=$node;$ret=$this->_3($_0);break;case'action':list($_,$_0,$_1)=$node;$ret=$this->_4($_0,$_1);break;case'bind':list($_,$_0,$_1)=$node;$ret=$this->_5($_0,$_1);break;case'apply':list($_,$_0)=$node;$ret=$this->_6($_0);break;default:$ret=$this->_7();break;}array_pop($this->_stack);return$ret;}public function __invoke($definitions){extract($this->_env,EXTR_REFS);reset($definitions);$used=array(key($definitions)=>0);foreach($definitions as$definition){$used=array_merge($used,array_flip($this->_walk($definition)));}return array_keys($used);}protected function _0($name,$node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _1($nodes){extract($this->_env,EXTR_REFS);$used=array();foreach($nodes as$node){$used=array_merge($used,array_flip($this->_walk($node)));}return array_keys($used);}protected function _2($i,$node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _3($node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _4($node,$code){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _5($varname,$node){extract($this->_env,EXTR_REFS);return$this->_walk($node);}protected function _6($name){extract($this->_env,EXTR_REFS);return array($name);}protected function _7(){extract($this->_env,EXTR_REFS);return array();}}function i($code,$indent='    '){return$indent.str_replace("\n","\n$indent",rtrim($code,"\n"))."\n";}if($_SERVER['argc']<2){echo"usage: ".$_SERVER['argv'][0]." input [output]\n";die();}$input=$_SERVER['argv'][1];$classname=basename($input);if(($pos=strrpos($classname,'.'))!==FALSE){$classname=substr($classname,0,$pos);}$output=$input.'.php';if($_SERVER['argc']>2){$output=$_SERVER['argv'][2];}else{if(($pos=strrpos($input,'.'))!==FALSE){$output=substr($input,0,$pos).'.php';}}$inputstring=file_get_contents($input);$instance=new parse_treewalker;list($ok,$result,$errinfo)=$instance->parse($inputstring);if(!$ok){die("Parser error on line {$errinfo->line}, column {$errinfo->column}:\n"."{$errinfo->context}\n".str_repeat(' ',$errinfo->column-1)."\n"."Expected: ".implode(', ',$errinfo->expected));}list($_,$nodes)=$result;$init=NULL;$invoke=NULL;$invokeargs=array();$matchers=array();foreach($nodes as$node){if($node[0]==="init"){list($_,$init)=$node;}else if($node[0]==="invoke"){list($_,$invokeargs,$invoke)=$node;}else if($node[0]==="matcher"){array_shift($node);$matchers[]=$node;}else{var_dump($node);die();}}$switch="switch (\$node[0]) {\n";$default=NULL;$codes="";$i=0;$replaces=array('WALK'=>'$this->_walk','WALKEACH'=>'$this->_walkeach','NODE'=>'$this->_node','NODETYPE'=>'$this->_nodetype','ROOT'=>'$this->_root','STACK'=>'$this->_stack','INDEX'=>'$this->_index',);foreach($matchers as$matcher){list($types,$args,$code)=$matcher;$arglist=array();$numlist=array();$j=0;foreach($args as$arg){$arglist[]="$$arg";$numlist[]='$_'.($j++);}$arglist=implode(', ',$arglist);$numlist=implode(', ',$numlist);$codes.="protected function _$i($arglist) { extract(\$this->_env, EXTR_REFS); ".strtr($code,$replaces)."\n}\n";$append_to=&$switch;if($types===TRUE){$default.="default:\n";$append_to=&$default;}else{foreach($types as$type){$switch.="case '".$type."':\n";}}if(!empty($arglist)){$append_to.="    list(\$_, $numlist) = \$node;\n";}$append_to.="    \$ret = \$this->_$i($numlist);\n";$append_to.="break;\n";++$i;}$switch.=$default;$switch.="}\n";$switch=i($switch,'        ');if($invoke===NULL){$invokeargs=array('node');$invoke='return WALK($node);';}foreach($invokeargs as&$arg){$arg="$$arg";}$invokearglist=implode(', ',$invokeargs);$invoke=strtr($invoke,$replaces);$invoke=i($invoke,'        ');file_put_contents($output,<<<E
<?php
class $classname
{
    private \$_stack = array();
    private \$_env;
    private \$_index;

    public function __construct()
    {
        \$this->_init();
    }

    public function walk(\$node)
    {
        /*\$this->_init();*/
        return \$this->_walk(\$node);
    }

    public function walkeach(array \$nodes)
    {
        /*\$this->_init();*/
        return \$this->_walkeach(\$nodes);
    }

    protected function _init()
    {
        \$this->_env = array();
$init
        \$this->_env = get_defined_vars();
    }

    protected function _node()
    {
        return end(\$this->_stack);
    }

    protected function _nodetype()
    {
        return current(\$this->_node());
    }

    protected function _stack()
    {
        return \$this->_stack;
    }

    protected function _root()
    {
        reset(\$this->_stack);
        return current(\$this->_stack);
    }

    protected function _index()
    {
        return \$this->_index;
    }

    protected function _walkeach(array \$nodes)
    {
        \$ret = array();

        foreach (\$nodes as \$k => \$node) {
            \$this->_index = \$k;
            \$ret[\$k] = \$this->_walk(\$node);
        }

        return \$ret;
    }

    protected function _walk(\$node)
    {
        array_push(\$this->_stack, \$node);
        \$ret = NULL;

$switch
        array_pop(\$this->_stack);
        return \$ret;
    }

    public function __invoke($invokearglist)
    {
        /*\$this->_init();*/
        extract(\$this->_env, EXTR_REFS);
$invoke
    }

$codes
}

E
);